"use strict";(self.webpackChunkinference_portal=self.webpackChunkinference_portal||[]).push([[14],{69014:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var r=n(96540),o=n(46266),a=n(69067),l=n(97834),i=n(30995),c=n(42471),u=n(36632),m=n(53246),s=n(25239),f=n(8676),p=n(50779),y=n(60538),b=n(14073),d=n(35453),A=n(13718),g=n(38960),v=n(5673),E=n(76768),h=n(11641),O=n(28800),S=n(47767),j=n(84976),w=n(63418),P=n(71543),x=n(22453);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,i=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var R=(0,f.A)(y.A)((function(e){var t=e.theme;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){var r,o,a,l;r=e,o=t,a=n[t],l=function(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==k(l)?l:l+"")in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({padding:t.spacing(4)},t.typography.body2)}));const W=function(){var e=C(r.useState(!1),2),t=e[0],n=e[1],f=(0,r.useContext)(w.Rs),y=(f.is_authenticated,f.setIsAuthenticated),k=(0,S.Zp)(),D=C((0,r.useState)(!1),2),I=D[0],W=D[1],_=C((0,r.useState)(""),2),z=_[0],L=_[1],T=C((0,r.useState)(!1),2),q=T[0],F=T[1],K=C((0,r.useState)(!1),2),M=K[0],N=K[1],G=function(e){var t=e.error;return r.createElement(a.A,{mt:4},r.createElement(b.A,{variant:"body1"},"Request Failed!"),r.createElement(a.A,{textAlign:"center"},r.createElement(u.A,{variant:"filled",severity:"error"},t)))};return r.createElement(l.A,{maxWidth:!1,disableGutters:!0},r.createElement("title",null,"Login"),r.createElement(d.A,null),r.createElement(l.A,{maxWidth:"sm"},r.createElement(a.A,{my:1,alignItems:"center",gap:4,p:2},r.createElement(R,{variant:"outlined"},r.createElement(a.A,{textAlign:"center",my:1},r.createElement(b.A,{variant:"h4"},r.createElement(a.A,{sx:{mb:1,fontWeight:"bold"}},"Login")),r.createElement(a.A,{sx:{p:2}},r.createElement("form",{autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),W(!0),""==z&&F(!0),z){console.log(z);var t={headers:{"content-type":"application/json","X-CSRFToken":(0,x.R)("csrftoken")}},n={key:z};o.A.post("/frontend-api/login",n,t).then((function(e){y(!0),k("/frontend/hub")})).catch((function(e){N(e.response.data.detail)}))}W(!1)}},r.createElement(p.A,{defaultValue:"",margin:"normal",required:!0},r.createElement(i.A,{direction:{xs:"row"},spacing:1},r.createElement(c.A,{margin:"normal",fullWidth:!0,label:"Key",type:t?"text":"password",size:"small",onChange:function(e){return L(e.target.value)},value:z,error:q,autoComplete:"off",InputProps:{startAdornment:r.createElement(s.A,{position:"start"},r.createElement(m.A,null)),endAdornment:r.createElement(s.A,{position:"end"},r.createElement(h.A,{"aria-label":"toggle password visibility",onClick:function(){return n((function(e){return!e}))},onMouseDown:function(e){e.preventDefault()},edge:"end"},t?r.createElement(E.A,null):r.createElement(v.A,null)))}}),r.createElement(A.A,{size:"small",loading:I,variant:"contained",type:"submit",endIcon:r.createElement(O.A,null)},"Login"))))),r.createElement(P.A,null),r.createElement(a.A,{sx:{pt:4}},r.createElement(A.A,{size:"medium",variant:"contained",component:j.N_,to:"/frontend/key-management"},"  Create New Key "))),M&&r.createElement(G,{error:M})))),r.createElement(g.A,null))}}}]);