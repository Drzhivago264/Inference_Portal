import{a as l,N as D,O as L,s as k,_ as v,e as M,R as F,U as I,j as r,V as O,Q as d,W as U,M as H,B as E,a6 as _,X as q,J as G}from"./index-BgTNlE3K.js";import{I as J}from"./ItemCard-C3XUgP8C.js";import{T as X}from"./tools_empty-CipbKgm6.js";import{c as Q,d as Y,u as K,S as A,B as Z,a as S}from"./useApi-H2a3O-a6.js";import{T as w,t as oo}from"./ToolDialog-A8-wxjvs.js";import{E as to,V as ro}from"./ErrorBoundary-DJvKZGfQ.js";import{S as P}from"./useNotifier-C3gm9LlJ.js";import"./Grid-Cq2i7Qbd.js";import"./TextField-dkTUQuhn.js";import"./FormControl-D-oBzX_C.js";import"./Delete-C5-Z8bWn.js";import"./TooltipWithParser-Ct71_EQj.js";import"./CodeEditor-BMRRi0Ll.js";function io(t){return l.Children.toArray(t).filter(o=>l.isValidElement(o))}function ao(t){return L("MuiButtonGroup",t)}const i=D("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),eo=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],no=(t,o)=>{const{ownerState:a}=t;return[{[`& .${i.grouped}`]:o.grouped},{[`& .${i.grouped}`]:o[`grouped${d(a.orientation)}`]},{[`& .${i.grouped}`]:o[`grouped${d(a.variant)}`]},{[`& .${i.grouped}`]:o[`grouped${d(a.variant)}${d(a.orientation)}`]},{[`& .${i.grouped}`]:o[`grouped${d(a.variant)}${d(a.color)}`]},{[`& .${i.firstButton}`]:o.firstButton},{[`& .${i.lastButton}`]:o.lastButton},{[`& .${i.middleButton}`]:o.middleButton},o.root,o[a.variant],a.disableElevation===!0&&o.disableElevation,a.fullWidth&&o.fullWidth,a.orientation==="vertical"&&o.vertical]},lo=t=>{const{classes:o,color:a,disabled:g,disableElevation:f,fullWidth:x,orientation:n,variant:c}=t,p={root:["root",c,n==="vertical"&&"vertical",x&&"fullWidth",f&&"disableElevation"],grouped:["grouped",`grouped${d(n)}`,`grouped${d(c)}`,`grouped${d(c)}${d(n)}`,`grouped${d(c)}${d(a)}`,g&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return U(p,ao,o)},so=k("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:no})(({theme:t,ownerState:o})=>v({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},o.variant==="contained"&&{boxShadow:(t.vars||t).shadows[2]},o.disableElevation&&{boxShadow:"none"},o.fullWidth&&{width:"100%"},o.orientation==="vertical"&&{flexDirection:"column"},{[`& .${i.grouped}`]:v({minWidth:40,"&:hover":v({},o.variant==="contained"&&{boxShadow:"none"})},o.variant==="contained"&&{boxShadow:"none"}),[`& .${i.firstButton},& .${i.middleButton}`]:v({},o.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},o.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},o.variant==="text"&&o.orientation==="horizontal"&&{borderRight:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${i.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},o.variant==="text"&&o.orientation==="vertical"&&{borderBottom:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${i.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},o.variant==="text"&&o.color!=="inherit"&&{borderColor:t.vars?`rgba(${t.vars.palette[o.color].mainChannel} / 0.5)`:M(t.palette[o.color].main,.5)},o.variant==="outlined"&&o.orientation==="horizontal"&&{borderRightColor:"transparent"},o.variant==="outlined"&&o.orientation==="vertical"&&{borderBottomColor:"transparent"},o.variant==="contained"&&o.orientation==="horizontal"&&{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${i.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},o.variant==="contained"&&o.orientation==="vertical"&&{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${i.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},o.variant==="contained"&&o.color!=="inherit"&&{borderColor:(t.vars||t).palette[o.color].dark},{"&:hover":v({},o.variant==="outlined"&&o.orientation==="horizontal"&&{borderRightColor:"currentColor"},o.variant==="outlined"&&o.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${i.lastButton},& .${i.middleButton}`]:v({},o.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},o.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},o.variant==="outlined"&&o.orientation==="horizontal"&&{marginLeft:-1},o.variant==="outlined"&&o.orientation==="vertical"&&{marginTop:-1})})),uo=l.forwardRef(function(o,a){const g=F({props:o,name:"MuiButtonGroup"}),{children:f,className:x,color:n="primary",component:c="div",disabled:p=!1,disableElevation:m=!1,disableFocusRipple:b=!1,disableRipple:h=!1,fullWidth:B=!1,orientation:y="horizontal",size:C="medium",variant:e="outlined"}=g,u=I(g,eo),$=v({},g,{color:n,component:c,disabled:p,disableElevation:m,disableFocusRipple:b,disableRipple:h,fullWidth:B,orientation:y,size:C,variant:e}),s=lo($),N=l.useMemo(()=>({className:s.grouped,color:n,disabled:p,disableElevation:m,disableFocusRipple:b,disableRipple:h,fullWidth:B,size:C,variant:e}),[n,p,m,b,h,B,C,e,s.grouped]),R=io(f),V=R.length,W=T=>{const j=T===0,z=T===V-1;return j&&z?"":j?s.firstButton:z?s.lastButton:s.middleButton};return r.jsx(so,v({as:c,role:"group",className:O(s.root,x),ref:a,ownerState:$},u,{children:r.jsx(Q.Provider,{value:N,children:R.map((T,j)=>r.jsx(Y.Provider,{value:W(j),children:T},j))})}))}),co=uo,To=()=>{const t=K(oo.getAllTools),[o,a]=l.useState(!0),[g,f]=l.useState(null),[x,n]=l.useState(!1),[c,p]=l.useState({}),m=l.useRef(null),b=e=>{try{const u={title:"Add New Tool",type:"IMPORT",cancelButtonName:"Cancel",confirmButtonName:"Save",data:JSON.parse(e)};p(u),n(!0)}catch(u){console.error(u)}},h=e=>{if(!e.target.files)return;const u=e.target.files[0],$=new FileReader;$.onload=s=>{var R;if(!((R=s==null?void 0:s.target)!=null&&R.result))return;const{result:N}=s.target;b(N)},$.readAsText(u)},B=()=>{p({title:"Add New Tool",type:"ADD",cancelButtonName:"Cancel",confirmButtonName:"Add"}),n(!0)},y=e=>{p({title:"Edit Tool",type:"EDIT",cancelButtonName:"Cancel",confirmButtonName:"Save",data:e}),n(!0)},C=()=>{n(!1),t.request()};return l.useEffect(()=>{t.request()},[]),l.useEffect(()=>{a(t.loading)},[t.loading]),l.useEffect(()=>{t.error&&f(t.error)},[t.error]),r.jsxs(r.Fragment,{children:[r.jsx(H,{children:g?r.jsx(to,{error:g}):r.jsxs(A,{flexDirection:"column",sx:{gap:3},children:[r.jsxs(ro,{title:"Tools",children:[r.jsxs(E,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Z,{variant:"outlined",onClick:()=>m.current.click(),startIcon:r.jsx(_,{}),sx:{borderRadius:2,height:40},children:"Load"}),r.jsx("input",{style:{display:"none"},ref:m,type:"file",hidden:!0,accept:".json",onChange:e=>h(e)})]}),r.jsx(co,{disableElevation:!0,"aria-label":"outlined primary button group",children:r.jsx(S,{variant:"contained",onClick:B,startIcon:r.jsx(q,{}),sx:{borderRadius:2,height:40},children:"Create"})})]}),o?r.jsxs(E,{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:G,children:[r.jsx(P,{variant:"rounded",height:160}),r.jsx(P,{variant:"rounded",height:160}),r.jsx(P,{variant:"rounded",height:160})]}):r.jsx(E,{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:G,children:t.data&&t.data.map((e,u)=>r.jsx(J,{data:e,onClick:()=>y(e)},u))}),!o&&(!t.data||t.data.length===0)&&r.jsxs(A,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[r.jsx(E,{sx:{p:2,height:"auto"},children:r.jsx("img",{style:{objectFit:"cover",height:"16vh",width:"auto"},src:X,alt:"ToolEmptySVG"})}),r.jsx("div",{children:"No Tools Created Yet"})]})]})}),r.jsx(w,{show:x,dialogProps:c,onCancel:()=>n(!1),onConfirm:C,setError:f})]})};export{To as default};
