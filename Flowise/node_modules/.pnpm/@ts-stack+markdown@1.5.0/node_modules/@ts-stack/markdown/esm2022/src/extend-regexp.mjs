/*
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */
export class ExtendRegexp {
    source;
    flags;
    constructor(regex, flags = '') {
        this.source = regex.source;
        this.flags = flags;
    }
    /**
     * Extend regular expression.
     *
     * @param groupName Regular expression for search a group name.
     * @param groupRegexp Regular expression of named group.
     */
    setGroup(groupName, groupRegexp) {
        let newRegexp = typeof groupRegexp == 'string' ? groupRegexp : groupRegexp.source;
        newRegexp = newRegexp.replace(/(^|[^\[])\^/g, '$1');
        // Extend regexp.
        this.source = this.source.replace(groupName, newRegexp);
        return this;
    }
    /**
     * Returns a result of extending a regular expression.
     */
    getRegexp() {
        return new RegExp(this.source, this.flags);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXh0ZW5kLXJlZ2V4cC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3BhY2thZ2VzL21hcmtkb3duL3NyYy9leHRlbmQtcmVnZXhwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztHQVFHO0FBRUgsTUFBTSxPQUFPLFlBQVk7SUFDZixNQUFNLENBQVM7SUFDZixLQUFLLENBQVM7SUFFdEIsWUFBWSxLQUFhLEVBQUUsUUFBZ0IsRUFBRTtRQUMzQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7UUFDM0IsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDckIsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0gsUUFBUSxDQUFDLFNBQTBCLEVBQUUsV0FBNEI7UUFDL0QsSUFBSSxTQUFTLEdBQVcsT0FBTyxXQUFXLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUM7UUFDMUYsU0FBUyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRXBELGlCQUFpQjtRQUNqQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUN4RCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRDs7T0FFRztJQUNILFNBQVM7UUFDUCxPQUFPLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzdDLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBAbGljZW5zZVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMS0yMDE0LCBDaHJpc3RvcGhlciBKZWZmcmV5LiAoTUlUIExpY2Vuc2VkKVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NoamovbWFya2VkXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE4LTIwMjEsINCa0L7RgdGC0Y8g0KLRgNC10YLRj9C6LiAoTUlUIExpY2Vuc2VkKVxuICogaHR0cHM6Ly9naXRodWIuY29tL3RzLXN0YWNrL21hcmtkb3duXG4gKi9cblxuZXhwb3J0IGNsYXNzIEV4dGVuZFJlZ2V4cCB7XG4gIHByaXZhdGUgc291cmNlOiBzdHJpbmc7XG4gIHByaXZhdGUgZmxhZ3M6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihyZWdleDogUmVnRXhwLCBmbGFnczogc3RyaW5nID0gJycpIHtcbiAgICB0aGlzLnNvdXJjZSA9IHJlZ2V4LnNvdXJjZTtcbiAgICB0aGlzLmZsYWdzID0gZmxhZ3M7XG4gIH1cblxuICAvKipcbiAgICogRXh0ZW5kIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAgICpcbiAgICogQHBhcmFtIGdyb3VwTmFtZSBSZWd1bGFyIGV4cHJlc3Npb24gZm9yIHNlYXJjaCBhIGdyb3VwIG5hbWUuXG4gICAqIEBwYXJhbSBncm91cFJlZ2V4cCBSZWd1bGFyIGV4cHJlc3Npb24gb2YgbmFtZWQgZ3JvdXAuXG4gICAqL1xuICBzZXRHcm91cChncm91cE5hbWU6IFJlZ0V4cCB8IHN0cmluZywgZ3JvdXBSZWdleHA6IFJlZ0V4cCB8IHN0cmluZyk6IHRoaXMge1xuICAgIGxldCBuZXdSZWdleHA6IHN0cmluZyA9IHR5cGVvZiBncm91cFJlZ2V4cCA9PSAnc3RyaW5nJyA/IGdyb3VwUmVnZXhwIDogZ3JvdXBSZWdleHAuc291cmNlO1xuICAgIG5ld1JlZ2V4cCA9IG5ld1JlZ2V4cC5yZXBsYWNlKC8oXnxbXlxcW10pXFxeL2csICckMScpO1xuXG4gICAgLy8gRXh0ZW5kIHJlZ2V4cC5cbiAgICB0aGlzLnNvdXJjZSA9IHRoaXMuc291cmNlLnJlcGxhY2UoZ3JvdXBOYW1lLCBuZXdSZWdleHApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSByZXN1bHQgb2YgZXh0ZW5kaW5nIGEgcmVndWxhciBleHByZXNzaW9uLlxuICAgKi9cbiAgZ2V0UmVnZXhwKCk6IFJlZ0V4cCB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAodGhpcy5zb3VyY2UsIHRoaXMuZmxhZ3MpO1xuICB9XG59XG4iXX0=