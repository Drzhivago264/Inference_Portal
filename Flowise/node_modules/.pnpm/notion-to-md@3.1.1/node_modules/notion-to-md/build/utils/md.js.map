{"version":3,"file":"md.js","sourceRoot":"","sources":["../../src/utils/md.ts"],"names":[],"mappings":"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","sourcesContent":["import { CalloutIcon } from \"../types\";\nimport markdownTable from \"markdown-table\";\n\nimport fetch from \"node-fetch\";\n\nexport const inlineCode = (text: string) => {\n  return `\\`${text}\\``;\n};\n\nexport const inlineEquation = (text: string) => {\n  return `$${text}$`;\n};\n\nexport const bold = (text: string) => {\n  return `**${text}**`;\n};\n\nexport const italic = (text: string) => {\n  return `_${text}_`;\n};\n\nexport const strikethrough = (text: string) => {\n  return `~~${text}~~`;\n};\n\nexport const underline = (text: string) => {\n  return `<u>${text}</u>`;\n};\n\nexport const link = (text: string, href: string) => {\n  return `[${text}](${href})`;\n};\n\nexport const codeBlock = (text: string, language?: string) => {\n  if (language === \"plain text\") language = \"text\";\n\n  return `\\`\\`\\`${language}\n${text}\n\\`\\`\\``;\n};\n\nexport const equation = (text: string) => {\n  return `$$\n${text}\n$$`;\n};\n\nexport const heading1 = (text: string) => {\n  return `# ${text}`;\n};\n\nexport const heading2 = (text: string) => {\n  return `## ${text}`;\n};\n\nexport const heading3 = (text: string) => {\n  return `### ${text}`;\n};\n\nexport const quote = (text: string) => {\n  // the replace is done to handle multiple lines\n  return `> ${text.replace(/\\n/g, \"  \\n> \")}`;\n};\n\nexport const callout = (text: string, icon?: CalloutIcon) => {\n  let emoji: string | undefined;\n  if (icon?.type === \"emoji\") {\n    emoji = icon.emoji;\n  }\n\n  // the replace is done to handle multiple lines\n  return `> ${emoji ? emoji + \" \" : \"\"}${text.replace(/\\n/g, \"  \\n> \")}`;\n};\n\nexport const bullet = (text: string, count?: number) => {\n  let renderText = text.trim();\n  return count ? `${count}. ${renderText}` : `- ${renderText}`;\n};\n\nexport const todo = (text: string, checked: boolean) => {\n  return checked ? `- [x] ${text}` : `- [ ] ${text}`;\n};\n\nexport const image = async (\n  alt: string,\n  href: string,\n  convertToBase64: boolean = false\n): Promise<string> => {\n  // In case the user does not want to convert the images to Base64\n  // or the image is already base64\n  if (!convertToBase64 || href.startsWith(\"data:\")) {\n    if (href.startsWith(\"data:\")) {\n      // Extract base64 data, i.e. the string after 'data:mime/type;base64,'\n      const base64 = href.split(\",\").pop();\n\n      // This overrides incorrect data: string format to png\n      // so that browsers can correctly render the data\n      return `![${alt}](data:image/png;base64,${base64})`;\n    }\n\n    return `![${alt}](${href})`;\n  } else {\n    // Otherwise, download the image and convert it to base64\n    const res = await fetch(href);\n    const buf = await res.arrayBuffer();\n\n    const base64 = Buffer.from(buf).toString(\"base64\");\n\n    return `![${alt}](data:image/png;base64,${base64})`;\n  }\n};\n\nexport const addTabSpace = (text: string, n = 0) => {\n  const tab = \"\t\";\n  for (let i = 0; i < n; i++) {\n    if (text.includes(\"\\n\")) {\n      const multiLineText = text.split(/(?:^|\\n)/).join(`\\n${tab}`);\n      text = tab + multiLineText;\n    } else text = tab + text;\n  }\n  return text;\n};\n\nexport const divider = () => {\n  return \"---\";\n};\n\nexport const toggle = (summary?: string, children?: string) => {\n  if (!summary) return children || \"\";\n  return `<details>\n<summary>${summary}</summary>\n${children || \"\"}\n</details>\\n\\n`;\n};\n\nexport const table = (cells: string[][]) => {\n  return markdownTable(cells);\n};\n"]}