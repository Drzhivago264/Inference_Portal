"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.UnknownServiceError = exports.UnknownError = exports.TimeoutError = exports.ServerUnavailableError = exports.PermissionError = exports.NotFoundError = exports.LimitExceededError = exports.InvalidArgumentError = exports.InternalServerError = exports.FailedPreconditionError = exports.CancelledError = exports.BadRequestError = exports.AuthenticationError = exports.AlreadyExistsError = exports.SdkError = exports.MomentoErrorTransportDetails = exports.MomentoGrpcErrorDetails = exports.MomentoErrorCode = void 0;
var MomentoErrorCode;
(function (MomentoErrorCode) {
    // Invalid argument passed to Momento client
    MomentoErrorCode["INVALID_ARGUMENT_ERROR"] = "INVALID_ARGUMENT_ERROR";
    // Service returned an unknown response
    MomentoErrorCode["UNKNOWN_SERVICE_ERROR"] = "UNKNOWN_SERVICE_ERROR";
    // Cache with specified name already exists
    MomentoErrorCode["ALREADY_EXISTS_ERROR"] = "ALREADY_EXISTS_ERROR";
    // Cache with specified name doesn't exist
    MomentoErrorCode["NOT_FOUND_ERROR"] = "NOT_FOUND_ERROR";
    // An unexpected error occurred while trying to fulfill the request
    MomentoErrorCode["INTERNAL_SERVER_ERROR"] = "INTERNAL_SERVER_ERROR";
    // Insufficient permissions to perform operation
    MomentoErrorCode["PERMISSION_ERROR"] = "PERMISSION_ERROR";
    // Invalid authentication credentials to connect to cache service
    MomentoErrorCode["AUTHENTICATION_ERROR"] = "AUTHENTICATION_ERROR";
    // Request was cancelled by the server
    MomentoErrorCode["CANCELLED_ERROR"] = "CANCELLED_ERROR";
    // Request rate, bandwidth, or object size exceeded the limits for the account
    MomentoErrorCode["LIMIT_EXCEEDED_ERROR"] = "LIMIT_EXCEEDED_ERROR";
    // Request was invalid
    MomentoErrorCode["BAD_REQUEST_ERROR"] = "BAD_REQUEST_ERROR";
    // Client's configured timeout was exceeded
    MomentoErrorCode["TIMEOUT_ERROR"] = "TIMEOUT_ERROR";
    // Server was unable to handle the request
    MomentoErrorCode["SERVER_UNAVAILABLE"] = "SERVER_UNAVAILABLE";
    // A client resource (most likely memory) was exhausted
    MomentoErrorCode["CLIENT_RESOURCE_EXHAUSTED"] = "CLIENT_RESOURCE_EXHAUSTED";
    // System is not in a state required for the operation's execution
    MomentoErrorCode["FAILED_PRECONDITION_ERROR"] = "FAILED_PRECONDITION_ERROR";
    // Unknown error has occurred
    MomentoErrorCode["UNKNOWN_ERROR"] = "UNKNOWN_ERROR";
})(MomentoErrorCode = exports.MomentoErrorCode || (exports.MomentoErrorCode = {}));
class MomentoGrpcErrorDetails {
    constructor(code, details, metadata) {
        this.code = code;
        this.details = details;
        this.metadata = metadata;
    }
}
exports.MomentoGrpcErrorDetails = MomentoGrpcErrorDetails;
class MomentoErrorTransportDetails {
    constructor(grpc) {
        this.grpc = grpc;
    }
}
exports.MomentoErrorTransportDetails = MomentoErrorTransportDetails;
/**
 * Base class for all errors thrown by the sdk
 */
class SdkError extends Error {
    constructor(message, code = 0, metadata = undefined, stack = undefined) {
        super(message);
        const grpcDetails = new MomentoGrpcErrorDetails(code, message, metadata);
        this._transportDetails = new MomentoErrorTransportDetails(grpcDetails);
        this.stack = stack !== null && stack !== void 0 ? stack : undefined;
    }
    wrappedErrorMessage() {
        return `${this._messageWrapper}: ${this.message}`;
    }
    errorCode() {
        return this._errorCode;
    }
    transportDetails() {
        return this._transportDetails;
    }
}
exports.SdkError = SdkError;
/**
 * Error that occurs when trying to create a cache with the same name as an existing cache. To resolve this error,
 * either delete the existing cache and make a new one, or change the name of the cache you are trying to create to
 * one that doesn't already exist
 */
class AlreadyExistsError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.ALREADY_EXISTS_ERROR;
        this._messageWrapper = 'A cache with the specified name already exists.  To resolve this error, either delete the existing cache and make a new one, or use a different name';
    }
}
exports.AlreadyExistsError = AlreadyExistsError;
/**
 * Error when authentication with Cache Service fails
 */
class AuthenticationError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.AUTHENTICATION_ERROR;
        this._messageWrapper = 'Invalid authentication credentials to connect to cache service';
    }
}
exports.AuthenticationError = AuthenticationError;
/**
 * Error raised in response to an invalid request
 */
class BadRequestError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.BAD_REQUEST_ERROR;
        this._messageWrapper = 'The request was invalid; please contact us at support@momentohq.com';
    }
}
exports.BadRequestError = BadRequestError;
/**
 * Error when an operation with Cache Service was cancelled
 */
class CancelledError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.CANCELLED_ERROR;
        this._messageWrapper = 'The request was cancelled by the server; please contact us at support@momentohq.com';
    }
}
exports.CancelledError = CancelledError;
/**
 * Error raised when system in not in a state required for the operation's success
 */
class FailedPreconditionError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.FAILED_PRECONDITION_ERROR;
        this._messageWrapper = "System is not in a state required for the operation's execution";
    }
}
exports.FailedPreconditionError = FailedPreconditionError;
/**
 * Cache Service encountered an unexpected exception while trying to fulfill the request
 */
class InternalServerError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.INTERNAL_SERVER_ERROR;
        this._messageWrapper = 'An unexpected error occurred while trying to fulfill the request; please contact us at support@momentohq.com';
    }
}
exports.InternalServerError = InternalServerError;
/**
 * Represents errors thrown when invalid parameters are passed to the Momento Cache
 */
class InvalidArgumentError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.INVALID_ARGUMENT_ERROR;
        this._messageWrapper = 'Invalid argument passed to Momento client';
    }
}
exports.InvalidArgumentError = InvalidArgumentError;
/**
 * Error when calls are throttled due to request limit rate
 */
class LimitExceededError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.LIMIT_EXCEEDED_ERROR;
        this._messageWrapper = 'Request rate, bandwidth, or object size exceeded the limits for this account.  To resolve this error, reduce your usage as appropriate or contact us at support@momentohq.com to request a limit increase';
    }
}
exports.LimitExceededError = LimitExceededError;
/**
 * Error that occurs when trying to get a cache that doesn't exist. To resolve, make sure that the cache you are trying
 * to get exists. If it doesn't create it first and then try again
 */
class NotFoundError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.NOT_FOUND_ERROR;
        this._messageWrapper = 'A cache with the specified name does not exist.  To resolve this error, make sure you have created the cache before attempting to use it';
    }
}
exports.NotFoundError = NotFoundError;
/**
 * Insufficient permissions to perform an operation on Cache Service
 */
class PermissionError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.PERMISSION_ERROR;
        this._messageWrapper = 'Insufficient permissions to perform an operation on a cache';
    }
}
exports.PermissionError = PermissionError;
/**
 * Server was unable to handle the request.
 */
class ServerUnavailableError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.SERVER_UNAVAILABLE;
        this._messageWrapper = 'The server was unable to handle the request; consider retrying.  If the error persists, please contact us at support@momentohq.com';
    }
}
exports.ServerUnavailableError = ServerUnavailableError;
/**
 * Error when an operation did not complete in time
 */
class TimeoutError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.TIMEOUT_ERROR;
        this._messageWrapper = "The client's configured timeout was exceeded; you may need to use a Configuration with more lenient timeouts";
    }
}
exports.TimeoutError = TimeoutError;
/**
 * Error raised when the underlying cause in unknown
 */
class UnknownError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.UNKNOWN_ERROR;
        this._messageWrapper = 'Unknown error has occurred';
    }
}
exports.UnknownError = UnknownError;
/**
 * Error raised when the service returns an unknown response
 */
class UnknownServiceError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.UNKNOWN_SERVICE_ERROR;
        this._messageWrapper = 'Service returned an unknown response; please contact us at support@momentohq.com';
    }
}
exports.UnknownServiceError = UnknownServiceError;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2Vycm9ycy9lcnJvcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsSUFBWSxnQkErQlg7QUEvQkQsV0FBWSxnQkFBZ0I7SUFDMUIsNENBQTRDO0lBQzVDLHFFQUFpRCxDQUFBO0lBQ2pELHVDQUF1QztJQUN2QyxtRUFBK0MsQ0FBQTtJQUMvQywyQ0FBMkM7SUFDM0MsaUVBQTZDLENBQUE7SUFDN0MsMENBQTBDO0lBQzFDLHVEQUFtQyxDQUFBO0lBQ25DLG1FQUFtRTtJQUNuRSxtRUFBK0MsQ0FBQTtJQUMvQyxnREFBZ0Q7SUFDaEQseURBQXFDLENBQUE7SUFDckMsaUVBQWlFO0lBQ2pFLGlFQUE2QyxDQUFBO0lBQzdDLHNDQUFzQztJQUN0Qyx1REFBbUMsQ0FBQTtJQUNuQyw4RUFBOEU7SUFDOUUsaUVBQTZDLENBQUE7SUFDN0Msc0JBQXNCO0lBQ3RCLDJEQUF1QyxDQUFBO0lBQ3ZDLDJDQUEyQztJQUMzQyxtREFBK0IsQ0FBQTtJQUMvQiwwQ0FBMEM7SUFDMUMsNkRBQXlDLENBQUE7SUFDekMsdURBQXVEO0lBQ3ZELDJFQUF1RCxDQUFBO0lBQ3ZELGtFQUFrRTtJQUNsRSwyRUFBdUQsQ0FBQTtJQUN2RCw2QkFBNkI7SUFDN0IsbURBQStCLENBQUE7QUFDakMsQ0FBQyxFQS9CVyxnQkFBZ0IsR0FBaEIsd0JBQWdCLEtBQWhCLHdCQUFnQixRQStCM0I7QUFFRCxNQUFhLHVCQUF1QjtJQUlsQyxZQUFZLElBQVksRUFBRSxPQUFlLEVBQUUsUUFBaUI7UUFDMUQsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7SUFDM0IsQ0FBQztDQUNGO0FBVEQsMERBU0M7QUFFRCxNQUFhLDRCQUE0QjtJQUV2QyxZQUFZLElBQTZCO1FBQ3ZDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ25CLENBQUM7Q0FDRjtBQUxELG9FQUtDO0FBQ0Q7O0dBRUc7QUFDSCxNQUFzQixRQUFTLFNBQVEsS0FBSztJQUkxQyxZQUNFLE9BQWUsRUFDZixJQUFJLEdBQUcsQ0FBQyxFQUNSLFdBQStCLFNBQVMsRUFDeEMsUUFBNEIsU0FBUztRQUVyQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDZixNQUFNLFdBQVcsR0FBRyxJQUFJLHVCQUF1QixDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDekUsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksNEJBQTRCLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDdkUsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLGFBQUwsS0FBSyxjQUFMLEtBQUssR0FBSSxTQUFTLENBQUM7SUFDbEMsQ0FBQztJQUVNLG1CQUFtQjtRQUN4QixPQUFPLEdBQUcsSUFBSSxDQUFDLGVBQWUsS0FBSyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDcEQsQ0FBQztJQUVNLFNBQVM7UUFDZCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDekIsQ0FBQztJQUVNLGdCQUFnQjtRQUNyQixPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztJQUNoQyxDQUFDO0NBQ0Y7QUEzQkQsNEJBMkJDO0FBRUQ7Ozs7R0FJRztBQUNILE1BQWEsa0JBQW1CLFNBQVEsUUFBUTtJQUFoRDs7UUFDRSxlQUFVLEdBQUcsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUM7UUFDbkQsb0JBQWUsR0FDYixzSkFBc0osQ0FBQztJQUMzSixDQUFDO0NBQUE7QUFKRCxnREFJQztBQUVEOztHQUVHO0FBQ0gsTUFBYSxtQkFBb0IsU0FBUSxRQUFRO0lBQWpEOztRQUNFLGVBQVUsR0FBRyxnQkFBZ0IsQ0FBQyxvQkFBb0IsQ0FBQztRQUNuRCxvQkFBZSxHQUNiLGdFQUFnRSxDQUFDO0lBQ3JFLENBQUM7Q0FBQTtBQUpELGtEQUlDO0FBRUQ7O0dBRUc7QUFDSCxNQUFhLGVBQWdCLFNBQVEsUUFBUTtJQUE3Qzs7UUFDRSxlQUFVLEdBQUcsZ0JBQWdCLENBQUMsaUJBQWlCLENBQUM7UUFDaEQsb0JBQWUsR0FDYixxRUFBcUUsQ0FBQztJQUMxRSxDQUFDO0NBQUE7QUFKRCwwQ0FJQztBQUVEOztHQUVHO0FBQ0gsTUFBYSxjQUFlLFNBQVEsUUFBUTtJQUE1Qzs7UUFDRSxlQUFVLEdBQUcsZ0JBQWdCLENBQUMsZUFBZSxDQUFDO1FBQzlDLG9CQUFlLEdBQ2IscUZBQXFGLENBQUM7SUFDMUYsQ0FBQztDQUFBO0FBSkQsd0NBSUM7QUFFRDs7R0FFRztBQUNILE1BQWEsdUJBQXdCLFNBQVEsUUFBUTtJQUFyRDs7UUFDRSxlQUFVLEdBQUcsZ0JBQWdCLENBQUMseUJBQXlCLENBQUM7UUFDeEQsb0JBQWUsR0FDYixpRUFBaUUsQ0FBQztJQUN0RSxDQUFDO0NBQUE7QUFKRCwwREFJQztBQUVEOztHQUVHO0FBQ0gsTUFBYSxtQkFBb0IsU0FBUSxRQUFRO0lBQWpEOztRQUNFLGVBQVUsR0FBRyxnQkFBZ0IsQ0FBQyxxQkFBcUIsQ0FBQztRQUNwRCxvQkFBZSxHQUNiLDhHQUE4RyxDQUFDO0lBQ25ILENBQUM7Q0FBQTtBQUpELGtEQUlDO0FBRUQ7O0dBRUc7QUFDSCxNQUFhLG9CQUFxQixTQUFRLFFBQVE7SUFBbEQ7O1FBQ0UsZUFBVSxHQUFHLGdCQUFnQixDQUFDLHNCQUFzQixDQUFDO1FBQ3JELG9CQUFlLEdBQUcsMkNBQTJDLENBQUM7SUFDaEUsQ0FBQztDQUFBO0FBSEQsb0RBR0M7QUFFRDs7R0FFRztBQUNILE1BQWEsa0JBQW1CLFNBQVEsUUFBUTtJQUFoRDs7UUFDRSxlQUFVLEdBQUcsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUM7UUFDbkQsb0JBQWUsR0FDYiwyTUFBMk0sQ0FBQztJQUNoTixDQUFDO0NBQUE7QUFKRCxnREFJQztBQUVEOzs7R0FHRztBQUNILE1BQWEsYUFBYyxTQUFRLFFBQVE7SUFBM0M7O1FBQ0UsZUFBVSxHQUFHLGdCQUFnQixDQUFDLGVBQWUsQ0FBQztRQUM5QyxvQkFBZSxHQUNiLDBJQUEwSSxDQUFDO0lBQy9JLENBQUM7Q0FBQTtBQUpELHNDQUlDO0FBRUQ7O0dBRUc7QUFDSCxNQUFhLGVBQWdCLFNBQVEsUUFBUTtJQUE3Qzs7UUFDRSxlQUFVLEdBQUcsZ0JBQWdCLENBQUMsZ0JBQWdCLENBQUM7UUFDL0Msb0JBQWUsR0FDYiw2REFBNkQsQ0FBQztJQUNsRSxDQUFDO0NBQUE7QUFKRCwwQ0FJQztBQUVEOztHQUVHO0FBQ0gsTUFBYSxzQkFBdUIsU0FBUSxRQUFRO0lBQXBEOztRQUNFLGVBQVUsR0FBRyxnQkFBZ0IsQ0FBQyxrQkFBa0IsQ0FBQztRQUNqRCxvQkFBZSxHQUNiLG9JQUFvSSxDQUFDO0lBQ3pJLENBQUM7Q0FBQTtBQUpELHdEQUlDO0FBRUQ7O0dBRUc7QUFDSCxNQUFhLFlBQWEsU0FBUSxRQUFRO0lBQTFDOztRQUNFLGVBQVUsR0FBRyxnQkFBZ0IsQ0FBQyxhQUFhLENBQUM7UUFDNUMsb0JBQWUsR0FDYiw4R0FBOEcsQ0FBQztJQUNuSCxDQUFDO0NBQUE7QUFKRCxvQ0FJQztBQUVEOztHQUVHO0FBQ0gsTUFBYSxZQUFhLFNBQVEsUUFBUTtJQUExQzs7UUFDRSxlQUFVLEdBQUcsZ0JBQWdCLENBQUMsYUFBYSxDQUFDO1FBQzVDLG9CQUFlLEdBQUcsNEJBQTRCLENBQUM7SUFDakQsQ0FBQztDQUFBO0FBSEQsb0NBR0M7QUFFRDs7R0FFRztBQUNILE1BQWEsbUJBQW9CLFNBQVEsUUFBUTtJQUFqRDs7UUFDRSxlQUFVLEdBQUcsZ0JBQWdCLENBQUMscUJBQXFCLENBQUM7UUFDcEQsb0JBQWUsR0FDYixrRkFBa0YsQ0FBQztJQUN2RixDQUFDO0NBQUE7QUFKRCxrREFJQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIE1vbWVudG9FcnJvckNvZGUge1xuICAvLyBJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBNb21lbnRvIGNsaWVudFxuICBJTlZBTElEX0FSR1VNRU5UX0VSUk9SID0gJ0lOVkFMSURfQVJHVU1FTlRfRVJST1InLFxuICAvLyBTZXJ2aWNlIHJldHVybmVkIGFuIHVua25vd24gcmVzcG9uc2VcbiAgVU5LTk9XTl9TRVJWSUNFX0VSUk9SID0gJ1VOS05PV05fU0VSVklDRV9FUlJPUicsXG4gIC8vIENhY2hlIHdpdGggc3BlY2lmaWVkIG5hbWUgYWxyZWFkeSBleGlzdHNcbiAgQUxSRUFEWV9FWElTVFNfRVJST1IgPSAnQUxSRUFEWV9FWElTVFNfRVJST1InLFxuICAvLyBDYWNoZSB3aXRoIHNwZWNpZmllZCBuYW1lIGRvZXNuJ3QgZXhpc3RcbiAgTk9UX0ZPVU5EX0VSUk9SID0gJ05PVF9GT1VORF9FUlJPUicsXG4gIC8vIEFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGZ1bGZpbGwgdGhlIHJlcXVlc3RcbiAgSU5URVJOQUxfU0VSVkVSX0VSUk9SID0gJ0lOVEVSTkFMX1NFUlZFUl9FUlJPUicsXG4gIC8vIEluc3VmZmljaWVudCBwZXJtaXNzaW9ucyB0byBwZXJmb3JtIG9wZXJhdGlvblxuICBQRVJNSVNTSU9OX0VSUk9SID0gJ1BFUk1JU1NJT05fRVJST1InLFxuICAvLyBJbnZhbGlkIGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzIHRvIGNvbm5lY3QgdG8gY2FjaGUgc2VydmljZVxuICBBVVRIRU5USUNBVElPTl9FUlJPUiA9ICdBVVRIRU5USUNBVElPTl9FUlJPUicsXG4gIC8vIFJlcXVlc3Qgd2FzIGNhbmNlbGxlZCBieSB0aGUgc2VydmVyXG4gIENBTkNFTExFRF9FUlJPUiA9ICdDQU5DRUxMRURfRVJST1InLFxuICAvLyBSZXF1ZXN0IHJhdGUsIGJhbmR3aWR0aCwgb3Igb2JqZWN0IHNpemUgZXhjZWVkZWQgdGhlIGxpbWl0cyBmb3IgdGhlIGFjY291bnRcbiAgTElNSVRfRVhDRUVERURfRVJST1IgPSAnTElNSVRfRVhDRUVERURfRVJST1InLFxuICAvLyBSZXF1ZXN0IHdhcyBpbnZhbGlkXG4gIEJBRF9SRVFVRVNUX0VSUk9SID0gJ0JBRF9SRVFVRVNUX0VSUk9SJyxcbiAgLy8gQ2xpZW50J3MgY29uZmlndXJlZCB0aW1lb3V0IHdhcyBleGNlZWRlZFxuICBUSU1FT1VUX0VSUk9SID0gJ1RJTUVPVVRfRVJST1InLFxuICAvLyBTZXJ2ZXIgd2FzIHVuYWJsZSB0byBoYW5kbGUgdGhlIHJlcXVlc3RcbiAgU0VSVkVSX1VOQVZBSUxBQkxFID0gJ1NFUlZFUl9VTkFWQUlMQUJMRScsXG4gIC8vIEEgY2xpZW50IHJlc291cmNlIChtb3N0IGxpa2VseSBtZW1vcnkpIHdhcyBleGhhdXN0ZWRcbiAgQ0xJRU5UX1JFU09VUkNFX0VYSEFVU1RFRCA9ICdDTElFTlRfUkVTT1VSQ0VfRVhIQVVTVEVEJyxcbiAgLy8gU3lzdGVtIGlzIG5vdCBpbiBhIHN0YXRlIHJlcXVpcmVkIGZvciB0aGUgb3BlcmF0aW9uJ3MgZXhlY3V0aW9uXG4gIEZBSUxFRF9QUkVDT05ESVRJT05fRVJST1IgPSAnRkFJTEVEX1BSRUNPTkRJVElPTl9FUlJPUicsXG4gIC8vIFVua25vd24gZXJyb3IgaGFzIG9jY3VycmVkXG4gIFVOS05PV05fRVJST1IgPSAnVU5LTk9XTl9FUlJPUicsXG59XG5cbmV4cG9ydCBjbGFzcyBNb21lbnRvR3JwY0Vycm9yRGV0YWlscyB7XG4gIHB1YmxpYyByZWFkb25seSBjb2RlOiBudW1iZXI7XG4gIHB1YmxpYyByZWFkb25seSBkZXRhaWxzOiBzdHJpbmc7XG4gIHB1YmxpYyByZWFkb25seSBtZXRhZGF0YT86IG9iamVjdDtcbiAgY29uc3RydWN0b3IoY29kZTogbnVtYmVyLCBkZXRhaWxzOiBzdHJpbmcsIG1ldGFkYXRhPzogb2JqZWN0KSB7XG4gICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB0aGlzLmRldGFpbHMgPSBkZXRhaWxzO1xuICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW9tZW50b0Vycm9yVHJhbnNwb3J0RGV0YWlscyB7XG4gIHB1YmxpYyByZWFkb25seSBncnBjOiBNb21lbnRvR3JwY0Vycm9yRGV0YWlscztcbiAgY29uc3RydWN0b3IoZ3JwYzogTW9tZW50b0dycGNFcnJvckRldGFpbHMpIHtcbiAgICB0aGlzLmdycGMgPSBncnBjO1xuICB9XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGFsbCBlcnJvcnMgdGhyb3duIGJ5IHRoZSBzZGtcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNka0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgX2Vycm9yQ29kZTogTW9tZW50b0Vycm9yQ29kZTtcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IF9tZXNzYWdlV3JhcHBlcjogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IF90cmFuc3BvcnREZXRhaWxzOiBNb21lbnRvRXJyb3JUcmFuc3BvcnREZXRhaWxzO1xuICBjb25zdHJ1Y3RvcihcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgY29kZSA9IDAsXG4gICAgbWV0YWRhdGE6IG9iamVjdCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCxcbiAgICBzdGFjazogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkXG4gICkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIGNvbnN0IGdycGNEZXRhaWxzID0gbmV3IE1vbWVudG9HcnBjRXJyb3JEZXRhaWxzKGNvZGUsIG1lc3NhZ2UsIG1ldGFkYXRhKTtcbiAgICB0aGlzLl90cmFuc3BvcnREZXRhaWxzID0gbmV3IE1vbWVudG9FcnJvclRyYW5zcG9ydERldGFpbHMoZ3JwY0RldGFpbHMpO1xuICAgIHRoaXMuc3RhY2sgPSBzdGFjayA/PyB1bmRlZmluZWQ7XG4gIH1cblxuICBwdWJsaWMgd3JhcHBlZEVycm9yTWVzc2FnZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgJHt0aGlzLl9tZXNzYWdlV3JhcHBlcn06ICR7dGhpcy5tZXNzYWdlfWA7XG4gIH1cblxuICBwdWJsaWMgZXJyb3JDb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl9lcnJvckNvZGU7XG4gIH1cblxuICBwdWJsaWMgdHJhbnNwb3J0RGV0YWlscygpIHtcbiAgICByZXR1cm4gdGhpcy5fdHJhbnNwb3J0RGV0YWlscztcbiAgfVxufVxuXG4vKipcbiAqIEVycm9yIHRoYXQgb2NjdXJzIHdoZW4gdHJ5aW5nIHRvIGNyZWF0ZSBhIGNhY2hlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBhbiBleGlzdGluZyBjYWNoZS4gVG8gcmVzb2x2ZSB0aGlzIGVycm9yLFxuICogZWl0aGVyIGRlbGV0ZSB0aGUgZXhpc3RpbmcgY2FjaGUgYW5kIG1ha2UgYSBuZXcgb25lLCBvciBjaGFuZ2UgdGhlIG5hbWUgb2YgdGhlIGNhY2hlIHlvdSBhcmUgdHJ5aW5nIHRvIGNyZWF0ZSB0b1xuICogb25lIHRoYXQgZG9lc24ndCBhbHJlYWR5IGV4aXN0XG4gKi9cbmV4cG9ydCBjbGFzcyBBbHJlYWR5RXhpc3RzRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gIF9lcnJvckNvZGUgPSBNb21lbnRvRXJyb3JDb2RlLkFMUkVBRFlfRVhJU1RTX0VSUk9SO1xuICBfbWVzc2FnZVdyYXBwZXIgPVxuICAgICdBIGNhY2hlIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lIGFscmVhZHkgZXhpc3RzLiAgVG8gcmVzb2x2ZSB0aGlzIGVycm9yLCBlaXRoZXIgZGVsZXRlIHRoZSBleGlzdGluZyBjYWNoZSBhbmQgbWFrZSBhIG5ldyBvbmUsIG9yIHVzZSBhIGRpZmZlcmVudCBuYW1lJztcbn1cblxuLyoqXG4gKiBFcnJvciB3aGVuIGF1dGhlbnRpY2F0aW9uIHdpdGggQ2FjaGUgU2VydmljZSBmYWlsc1xuICovXG5leHBvcnQgY2xhc3MgQXV0aGVudGljYXRpb25FcnJvciBleHRlbmRzIFNka0Vycm9yIHtcbiAgX2Vycm9yQ29kZSA9IE1vbWVudG9FcnJvckNvZGUuQVVUSEVOVElDQVRJT05fRVJST1I7XG4gIF9tZXNzYWdlV3JhcHBlciA9XG4gICAgJ0ludmFsaWQgYXV0aGVudGljYXRpb24gY3JlZGVudGlhbHMgdG8gY29ubmVjdCB0byBjYWNoZSBzZXJ2aWNlJztcbn1cblxuLyoqXG4gKiBFcnJvciByYWlzZWQgaW4gcmVzcG9uc2UgdG8gYW4gaW52YWxpZCByZXF1ZXN0XG4gKi9cbmV4cG9ydCBjbGFzcyBCYWRSZXF1ZXN0RXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gIF9lcnJvckNvZGUgPSBNb21lbnRvRXJyb3JDb2RlLkJBRF9SRVFVRVNUX0VSUk9SO1xuICBfbWVzc2FnZVdyYXBwZXIgPVxuICAgICdUaGUgcmVxdWVzdCB3YXMgaW52YWxpZDsgcGxlYXNlIGNvbnRhY3QgdXMgYXQgc3VwcG9ydEBtb21lbnRvaHEuY29tJztcbn1cblxuLyoqXG4gKiBFcnJvciB3aGVuIGFuIG9wZXJhdGlvbiB3aXRoIENhY2hlIFNlcnZpY2Ugd2FzIGNhbmNlbGxlZFxuICovXG5leHBvcnQgY2xhc3MgQ2FuY2VsbGVkRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gIF9lcnJvckNvZGUgPSBNb21lbnRvRXJyb3JDb2RlLkNBTkNFTExFRF9FUlJPUjtcbiAgX21lc3NhZ2VXcmFwcGVyID1cbiAgICAnVGhlIHJlcXVlc3Qgd2FzIGNhbmNlbGxlZCBieSB0aGUgc2VydmVyOyBwbGVhc2UgY29udGFjdCB1cyBhdCBzdXBwb3J0QG1vbWVudG9ocS5jb20nO1xufVxuXG4vKipcbiAqIEVycm9yIHJhaXNlZCB3aGVuIHN5c3RlbSBpbiBub3QgaW4gYSBzdGF0ZSByZXF1aXJlZCBmb3IgdGhlIG9wZXJhdGlvbidzIHN1Y2Nlc3NcbiAqL1xuZXhwb3J0IGNsYXNzIEZhaWxlZFByZWNvbmRpdGlvbkVycm9yIGV4dGVuZHMgU2RrRXJyb3Ige1xuICBfZXJyb3JDb2RlID0gTW9tZW50b0Vycm9yQ29kZS5GQUlMRURfUFJFQ09ORElUSU9OX0VSUk9SO1xuICBfbWVzc2FnZVdyYXBwZXIgPVxuICAgIFwiU3lzdGVtIGlzIG5vdCBpbiBhIHN0YXRlIHJlcXVpcmVkIGZvciB0aGUgb3BlcmF0aW9uJ3MgZXhlY3V0aW9uXCI7XG59XG5cbi8qKlxuICogQ2FjaGUgU2VydmljZSBlbmNvdW50ZXJlZCBhbiB1bmV4cGVjdGVkIGV4Y2VwdGlvbiB3aGlsZSB0cnlpbmcgdG8gZnVsZmlsbCB0aGUgcmVxdWVzdFxuICovXG5leHBvcnQgY2xhc3MgSW50ZXJuYWxTZXJ2ZXJFcnJvciBleHRlbmRzIFNka0Vycm9yIHtcbiAgX2Vycm9yQ29kZSA9IE1vbWVudG9FcnJvckNvZGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SO1xuICBfbWVzc2FnZVdyYXBwZXIgPVxuICAgICdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byBmdWxmaWxsIHRoZSByZXF1ZXN0OyBwbGVhc2UgY29udGFjdCB1cyBhdCBzdXBwb3J0QG1vbWVudG9ocS5jb20nO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgZXJyb3JzIHRocm93biB3aGVuIGludmFsaWQgcGFyYW1ldGVycyBhcmUgcGFzc2VkIHRvIHRoZSBNb21lbnRvIENhY2hlXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQXJndW1lbnRFcnJvciBleHRlbmRzIFNka0Vycm9yIHtcbiAgX2Vycm9yQ29kZSA9IE1vbWVudG9FcnJvckNvZGUuSU5WQUxJRF9BUkdVTUVOVF9FUlJPUjtcbiAgX21lc3NhZ2VXcmFwcGVyID0gJ0ludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIE1vbWVudG8gY2xpZW50Jztcbn1cblxuLyoqXG4gKiBFcnJvciB3aGVuIGNhbGxzIGFyZSB0aHJvdHRsZWQgZHVlIHRvIHJlcXVlc3QgbGltaXQgcmF0ZVxuICovXG5leHBvcnQgY2xhc3MgTGltaXRFeGNlZWRlZEVycm9yIGV4dGVuZHMgU2RrRXJyb3Ige1xuICBfZXJyb3JDb2RlID0gTW9tZW50b0Vycm9yQ29kZS5MSU1JVF9FWENFRURFRF9FUlJPUjtcbiAgX21lc3NhZ2VXcmFwcGVyID1cbiAgICAnUmVxdWVzdCByYXRlLCBiYW5kd2lkdGgsIG9yIG9iamVjdCBzaXplIGV4Y2VlZGVkIHRoZSBsaW1pdHMgZm9yIHRoaXMgYWNjb3VudC4gIFRvIHJlc29sdmUgdGhpcyBlcnJvciwgcmVkdWNlIHlvdXIgdXNhZ2UgYXMgYXBwcm9wcmlhdGUgb3IgY29udGFjdCB1cyBhdCBzdXBwb3J0QG1vbWVudG9ocS5jb20gdG8gcmVxdWVzdCBhIGxpbWl0IGluY3JlYXNlJztcbn1cblxuLyoqXG4gKiBFcnJvciB0aGF0IG9jY3VycyB3aGVuIHRyeWluZyB0byBnZXQgYSBjYWNoZSB0aGF0IGRvZXNuJ3QgZXhpc3QuIFRvIHJlc29sdmUsIG1ha2Ugc3VyZSB0aGF0IHRoZSBjYWNoZSB5b3UgYXJlIHRyeWluZ1xuICogdG8gZ2V0IGV4aXN0cy4gSWYgaXQgZG9lc24ndCBjcmVhdGUgaXQgZmlyc3QgYW5kIHRoZW4gdHJ5IGFnYWluXG4gKi9cbmV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgU2RrRXJyb3Ige1xuICBfZXJyb3JDb2RlID0gTW9tZW50b0Vycm9yQ29kZS5OT1RfRk9VTkRfRVJST1I7XG4gIF9tZXNzYWdlV3JhcHBlciA9XG4gICAgJ0EgY2FjaGUgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUgZG9lcyBub3QgZXhpc3QuICBUbyByZXNvbHZlIHRoaXMgZXJyb3IsIG1ha2Ugc3VyZSB5b3UgaGF2ZSBjcmVhdGVkIHRoZSBjYWNoZSBiZWZvcmUgYXR0ZW1wdGluZyB0byB1c2UgaXQnO1xufVxuXG4vKipcbiAqIEluc3VmZmljaWVudCBwZXJtaXNzaW9ucyB0byBwZXJmb3JtIGFuIG9wZXJhdGlvbiBvbiBDYWNoZSBTZXJ2aWNlXG4gKi9cbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gIF9lcnJvckNvZGUgPSBNb21lbnRvRXJyb3JDb2RlLlBFUk1JU1NJT05fRVJST1I7XG4gIF9tZXNzYWdlV3JhcHBlciA9XG4gICAgJ0luc3VmZmljaWVudCBwZXJtaXNzaW9ucyB0byBwZXJmb3JtIGFuIG9wZXJhdGlvbiBvbiBhIGNhY2hlJztcbn1cblxuLyoqXG4gKiBTZXJ2ZXIgd2FzIHVuYWJsZSB0byBoYW5kbGUgdGhlIHJlcXVlc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXJ2ZXJVbmF2YWlsYWJsZUVycm9yIGV4dGVuZHMgU2RrRXJyb3Ige1xuICBfZXJyb3JDb2RlID0gTW9tZW50b0Vycm9yQ29kZS5TRVJWRVJfVU5BVkFJTEFCTEU7XG4gIF9tZXNzYWdlV3JhcHBlciA9XG4gICAgJ1RoZSBzZXJ2ZXIgd2FzIHVuYWJsZSB0byBoYW5kbGUgdGhlIHJlcXVlc3Q7IGNvbnNpZGVyIHJldHJ5aW5nLiAgSWYgdGhlIGVycm9yIHBlcnNpc3RzLCBwbGVhc2UgY29udGFjdCB1cyBhdCBzdXBwb3J0QG1vbWVudG9ocS5jb20nO1xufVxuXG4vKipcbiAqIEVycm9yIHdoZW4gYW4gb3BlcmF0aW9uIGRpZCBub3QgY29tcGxldGUgaW4gdGltZVxuICovXG5leHBvcnQgY2xhc3MgVGltZW91dEVycm9yIGV4dGVuZHMgU2RrRXJyb3Ige1xuICBfZXJyb3JDb2RlID0gTW9tZW50b0Vycm9yQ29kZS5USU1FT1VUX0VSUk9SO1xuICBfbWVzc2FnZVdyYXBwZXIgPVxuICAgIFwiVGhlIGNsaWVudCdzIGNvbmZpZ3VyZWQgdGltZW91dCB3YXMgZXhjZWVkZWQ7IHlvdSBtYXkgbmVlZCB0byB1c2UgYSBDb25maWd1cmF0aW9uIHdpdGggbW9yZSBsZW5pZW50IHRpbWVvdXRzXCI7XG59XG5cbi8qKlxuICogRXJyb3IgcmFpc2VkIHdoZW4gdGhlIHVuZGVybHlpbmcgY2F1c2UgaW4gdW5rbm93blxuICovXG5leHBvcnQgY2xhc3MgVW5rbm93bkVycm9yIGV4dGVuZHMgU2RrRXJyb3Ige1xuICBfZXJyb3JDb2RlID0gTW9tZW50b0Vycm9yQ29kZS5VTktOT1dOX0VSUk9SO1xuICBfbWVzc2FnZVdyYXBwZXIgPSAnVW5rbm93biBlcnJvciBoYXMgb2NjdXJyZWQnO1xufVxuXG4vKipcbiAqIEVycm9yIHJhaXNlZCB3aGVuIHRoZSBzZXJ2aWNlIHJldHVybnMgYW4gdW5rbm93biByZXNwb25zZVxuICovXG5leHBvcnQgY2xhc3MgVW5rbm93blNlcnZpY2VFcnJvciBleHRlbmRzIFNka0Vycm9yIHtcbiAgX2Vycm9yQ29kZSA9IE1vbWVudG9FcnJvckNvZGUuVU5LTk9XTl9TRVJWSUNFX0VSUk9SO1xuICBfbWVzc2FnZVdyYXBwZXIgPVxuICAgICdTZXJ2aWNlIHJldHVybmVkIGFuIHVua25vd24gcmVzcG9uc2U7IHBsZWFzZSBjb250YWN0IHVzIGF0IHN1cHBvcnRAbW9tZW50b2hxLmNvbSc7XG59XG4iXX0=