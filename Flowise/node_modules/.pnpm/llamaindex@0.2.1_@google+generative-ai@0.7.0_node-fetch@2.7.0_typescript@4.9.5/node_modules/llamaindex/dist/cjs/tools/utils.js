"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "callToolWithErrorHandling", {
    enumerable: true,
    get: function() {
        return callToolWithErrorHandling;
    }
});
const _types = require("./types.js");
async function callToolWithErrorHandling(tool, inputDict, errorMessage = null, raiseError = false) {
    try {
        const value = await tool.call?.(inputDict);
        return new _types.ToolOutput(value, tool.metadata.name, inputDict, value);
    } catch (e) {
        if (raiseError) {
            throw e;
        }
        errorMessage = errorMessage || `Error: ${e}`;
        return new _types.ToolOutput(errorMessage, tool.metadata.name, {
            kwargs: inputDict
        }, e);
    }
}
