"use strict";(self.webpackChunkinference_portal=self.webpackChunkinference_portal||[]).push([[546],{24610:(e,t,r)=>{var a=r(24994);t.A=void 0;var n=a(r(42032)),o=r(74848);t.A=(0,n.default)((0,o.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"GetApp")},1405:(e,t,r)=>{r.d(t,{A:()=>x});var a=r(98587),n=r(58168),o=r(96540),l=r(34164),i=r(64111),s=r(771),c=r(28466),u=r(55860),m=r(76081),p=r(11848),d=r(27553),h=r(17245);function f(e){return(0,h.Ay)("MuiSwitch",e)}const y=(0,d.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var b=r(74848);const g=["className","color","edge","size","sx"],v=(0,m.h)("MuiSwitch"),w=(0,p.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${(0,c.A)(r.edge)}`],t[`size${(0,c.A)(r.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${y.thumb}`]:{width:16,height:16},[`& .${y.switchBase}`]:{padding:4,[`&.${y.checked}`]:{transform:"translateX(16px)"}}}}]}),A=(0,p.Ay)(u.A,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${y.input}`]:t.input},"default"!==r.color&&t[`color${(0,c.A)(r.color)}`]]}})((({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${"light"===e.palette.mode?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${y.checked}`]:{transform:"translateX(20px)"},[`&.${y.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${y.checked} + .${y.track}`]:{opacity:.5},[`&.${y.disabled} + .${y.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:""+("light"===e.palette.mode?.12:.2)},[`& .${y.input}`]:{left:"-100%",width:"300%"}})),(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,s.X4)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter((([,e])=>e.main&&e.light)).map((([t])=>({props:{color:t},style:{[`&.${y.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,s.X4)(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${y.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${"light"===e.palette.mode?(0,s.a)(e.palette[t].main,.62):(0,s.e$)(e.palette[t].main,.55)}`}},[`&.${y.checked} + .${y.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}})))]}))),S=(0,p.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((({theme:e})=>({height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${"light"===e.palette.mode?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:""+("light"===e.palette.mode?.38:.3)}))),E=(0,p.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),x=o.forwardRef((function(e,t){const r=v({props:e,name:"MuiSwitch"}),{className:o,color:s="primary",edge:u=!1,size:m="medium",sx:p}=r,d=(0,a.A)(r,g),h=(0,n.A)({},r,{color:s,edge:u,size:m}),y=(e=>{const{classes:t,edge:r,size:a,color:o,checked:l,disabled:s}=e,u={root:["root",r&&`edge${(0,c.A)(r)}`,`size${(0,c.A)(a)}`],switchBase:["switchBase",`color${(0,c.A)(o)}`,l&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},m=(0,i.A)(u,f,t);return(0,n.A)({},t,m)})(h),x=(0,b.jsx)(E,{className:y.thumb,ownerState:h});return(0,b.jsxs)(w,{className:(0,l.A)(y.root,o),sx:p,ownerState:h,children:[(0,b.jsx)(A,(0,n.A)({type:"checkbox",icon:x,checkedIcon:x,ref:t,ownerState:h},d,{classes:(0,n.A)({},y,{root:y.switchBase})})),(0,b.jsx)(S,{className:y.track,ownerState:h})]})}))},44058:(e,t,r)=>{r.d(t,{b:()=>h});var a=r(96540),n=r(69067),o=r(48139),l=r(30995),i=r(29571),s=r(73896),c=r(4147),u=r(50779),m=r(14073),p=r(24610);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var h=function(e){var t=e.chat_message,r=e.choosen_export_format_chatlog,h=e.setChoosenExportFormatChatLog,f=e.number_of_remove_message;return a.createElement(n.A,{mt:2},a.createElement(m.A,{pb:2},"Chat Log Export:"),a.createElement("form",{onSubmit:function(e){e.preventDefault();var a,n=function(e){if(Array.isArray(e))return d(e)}(a=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=document.createElement("a");if(".json"==r){var l=JSON.stringify(n.splice(f),null,4),i=new Blob([l],{type:"application/json"}),s=URL.createObjectURL(i);o.setAttribute("href",s),o.setAttribute("download","Chat_log_from_Professor_Parakeet.json")}else if(".txt"==r){var c=n.splice(f);for(var u in l="",c)l+=c[u].role+"-"+c[u].time+":\n"+c[u].message+"\n";i=new Blob([l],{type:"text/plain"}),s=URL.createObjectURL(i),o.setAttribute("href",s),o.setAttribute("download","Chat_log_from_Professor_Parakeet.txt")}o.click()}},a.createElement(u.A,null,a.createElement(l.A,{direction:"row",spacing:1},a.createElement(i.A,{id:"export-label-chatlog"},"Formats"),a.createElement(c.A,{labelId:"export-label-chatlog",id:"export-select-chatlog",onChange:function(e){return h(e.target.value)},value:r,label:"Export",size:"small"},[".json",".txt"].map((function(e){return a.createElement(s.A,{key:e,value:e},e)}))),a.createElement(o.A,{size:"small",variant:"contained",type:"submit",endIcon:a.createElement(p.A,null)},"Export")))))}},64934:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var a=r(96540),n=r(46266),o=r(69067),l=r(50779),i=r(69307),s=r(8239),c=r(11848),u=r(53215),m=r(29428),p=r(60538),d=r(68864),h=r(97834),f=r(1043),y=r(71543),b=r(37312),g=r(92497),v=r(83248),w=r(6276),A=r(44058),S=r(38960);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,l,i=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(a=o.call(r)).done)&&(i.push(a.value),i.length!==t);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){var a,n,o,l;a=e,n=t,o=r[t],l=function(e,t){if("object"!=E(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!=E(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n),(n="symbol"==E(l)?l:l+"")in a?Object.defineProperty(a,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[n]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=(0,c.Ay)(p.A)((function(e){var t=e.theme;return j({minWidth:300,height:700,overflow:"auto",padding:t.spacing(2)},t.typography.body2)})),$=(0,c.Ay)(f.A)((function(e){return j({width:"100%"},e.theme.typography.body2)}));const C=function(){(0,a.useRef)();var e=(0,a.useRef)(null),t=x((0,a.useState)(!1),2),r=t[0],c=t[1],p=(0,a.useRef)(null),f=x((0,a.useState)([]),2),E=f[0],k=f[1],_=x((0,a.useState)([]),2),j=_[0],C=_[1],P=x((0,a.useState)("gpt-4"),2),R=P[0],z=P[1],I=x((0,a.useState)(.72),2),M=I[0],T=I[1],B=x((0,a.useState)(null),2),D=B[0],L=B[1],N=x((0,a.useState)(.73),2),U=N[0],W=N[1],F=x((0,a.useState)(0),2),X=F[0],q=F[1],H=x((0,a.useState)(0),2),V=H[0],G=H[1],J=x((0,a.useState)(""),2),K=J[0],Z=J[1],Q=x((0,a.useState)(!1),2),Y=Q[0],ee=Q[1],te=x((0,a.useState)("sadness, joy, love, anger, fear, surprise, neutral"),2),re=te[0],ae=te[1],ne=x((0,a.useState)("emotion"),2),oe=ne[0],le=ne[1],ie=x((0,a.useState)(".json"),2),se=ie[0],ce=ie[1],ue=Intl.DateTimeFormat().resolvedOptions().timeZone;(0,a.useEffect)((function(){n.A.all([n.A.get("/frontend-api/model")]).then(n.A.spread((function(e){C(e.data.models_agent)}))).catch((function(e){console.log(e)}))}),[]),(0,a.useEffect)((function(){var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}),[E]);var me="https:"==window.location.protocol?"wss":"ws",pe=window.location.pathname.split("/").filter((function(e){return""!==e}));(0,a.useEffect)((function(){e.current=new WebSocket(me+"://"+window.location.host+"/ws/"+pe[pe.length-2]+"/"+pe[pe.length-1]+"/"+ue+"/"),(0,w.u)(e,k,c,document)}),[]);var de=function(){if(""==K)ee(!0);else{var t={message:K,tool:oe,choosen_models:R,role:"Human",top_p:M,max_tokens:D,frequency_penalty:V,presence_penalty:X,temperature:U,emotion_list:"string"==typeof re?re:null,topic_list:"string"==typeof re?re:null,style_list:"string"==typeof re?re:null,number_of_word:"number"==typeof re?re:null};e.current.send(JSON.stringify(t)),Z("")}};return a.createElement(h.A,{maxWidth:!1,sx:{minWidth:1200},disableGutters:!0},a.createElement("title",null,"Agent"),a.createElement(b.A,{max_width:"xl"}),a.createElement(h.A,{maxWidth:"xl",sx:{minWidth:1200}},a.createElement(o.A,{m:1},a.createElement(s.Ay,{container:!0,spacing:2},a.createElement(s.Ay,{item:!0,md:3},a.createElement(l.A,null,a.createElement(i.A,{id:"demo-controlled-radio-buttons-group"},"Toolbox"),a.createElement(m.A,{defaultValue:"emotion",name:"radio-buttons-group",onChange:function(e){le(e.target.value),function(e){ae("restyle"==e?"sad, serious":"emotion"==e?"sadness, joy, love, anger, fear, surprise, neutral":"summary"==e?100:"")}(e.target.value)},value:oe},[{label:"Summary",value:"summary"},{label:"Paraphrase",value:"paraphrase"},{label:"Predict Emotion",value:"emotion"},{label:"Predict Sentiment",value:"sentiment"},{label:"Topic Classification",value:"topic"},{label:"Restyle",value:"restyle"}].map((function(e){return e.value,a.createElement(d.A,{key:e.label,value:e.value,control:a.createElement(u.A,null),label:e.label})})))),a.createElement(y.A,null),a.createElement(o.A,{mt:2,mb:2},a.createElement(i.A,{id:"Extral Instructions"},"Extra Instructions"),a.createElement($,{multiline:!0,maxRows:6,value:re,sx:{p:"2px 4px",display:"flex",minWidth:200},onChange:function(e){return ae(e.target.value)},minRows:4})),a.createElement(y.A,null),a.createElement(A.b,{chat_message:E,choosen_export_format_chatlog:se,setChoosenExportFormatChatLog:ce,number_of_remove_message:1})),a.createElement(s.Ay,{item:!0,md:6},a.createElement(v.s,{inputsize:660,chat_message:E,usermessage:K,usermessageError:Y,ChatPaper:O,ChatInput:$,setUserMessage:Z,submitChat:de,messagesEndRef:p,shownthinking:r,handleEnter:function(e){"Enter"!=e.key||e.shiftKey||de()}})),a.createElement(s.Ay,{item:!0,md:2},a.createElement(g.Oj,{top_p:M,agent_objects:j,choosen_model:R,setChoosenModel:z,setTopp:T,temperature:U,setTemperature:W,max_tokens:D,setMaxToken:L,presencepenalty:X,setPresencePenalty:q,frequencypenalty:V,setFrequencyPenalty:G}))))),a.createElement(S.A,null))}}}]);