"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkinference_portal"] = self["webpackChunkinference_portal"] || []).push([["frontend_user_instruction_js"],{

/***/ "./frontend/user_instruction.js":
/*!**************************************!*\
  !*** ./frontend/user_instruction.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"./node_modules/axios/lib/axios.js\");\n/* harmony import */ var _mui_material_Box__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/material/Box */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _mui_material_Grid__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/material/Grid */ \"./node_modules/@mui/material/Grid/Grid.js\");\n/* harmony import */ var _mui_material_Paper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material/Paper */ \"./node_modules/@mui/material/Paper/Paper.js\");\n/* harmony import */ var _mui_material_Container__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/material/Container */ \"./node_modules/@mui/material/Container/Container.js\");\n/* harmony import */ var _mui_material_TextField__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mui/material/TextField */ \"./node_modules/@mui/material/TextField/TextField.js\");\n/* harmony import */ var _component_navbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./component/navbar */ \"./frontend/component/navbar.js\");\n/* harmony import */ var _component_footer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./component/footer */ \"./frontend/component/footer.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Typography/Typography.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Divider/Divider.js\");\n/* harmony import */ var _mui_x_tree_view_SimpleTreeView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/x-tree-view/SimpleTreeView */ \"./node_modules/@mui/x-tree-view/SimpleTreeView/SimpleTreeView.js\");\n/* harmony import */ var _mui_x_tree_view_TreeItem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/x-tree-view/TreeItem */ \"./node_modules/@mui/x-tree-view/TreeItem/TreeItem.js\");\n/* harmony import */ var _mui_material_Pagination__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/material/Pagination */ \"./node_modules/@mui/material/Pagination/Pagination.js\");\n/* harmony import */ var _mui_icons_material_Refresh__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/icons-material/Refresh */ \"./node_modules/@mui/icons-material/Refresh.js\");\n/* harmony import */ var _mui_material_IconButton__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material/IconButton */ \"./node_modules/@mui/material/IconButton/IconButton.js\");\n/* harmony import */ var react_beautiful_dnd__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react-beautiful-dnd */ \"./node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js\");\n/* harmony import */ var _mui_material_FormControl__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/material/FormControl */ \"./node_modules/@mui/material/FormControl/FormControl.js\");\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction UserInstruction() {\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    root_node = _useState2[0],\n    setRootNode = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    default_expand_node = _useState4[0],\n    setDefaultExpandNode = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    total_node = _useState6[0],\n    setTotalNode = _useState6[1];\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    children_instruction_list = _useState8[0],\n    setChildInstructionList = _useState8[1];\n  var treeify = function treeify(list, idAttr, parentAttr, childrenAttr) {\n    if (!idAttr) idAttr = 'id';\n    if (!parentAttr) parentAttr = 'parent';\n    if (!childrenAttr) childrenAttr = 'children';\n    var treeList = [];\n    var nodeidList = [];\n    var lookup = {};\n    list.forEach(function (obj) {\n      lookup[obj[idAttr]] = obj;\n      obj[childrenAttr] = [];\n      nodeidList.push(obj[idAttr].toString());\n    });\n    list.forEach(function (obj) {\n      if (obj[parentAttr] != null) {\n        if (lookup[obj[parentAttr]] !== undefined) {\n          lookup[obj[parentAttr]][childrenAttr].push(obj);\n        } else {\n          treeList.push(obj);\n        }\n      } else {\n        treeList.push(obj);\n      }\n    });\n    return [treeList, nodeidList];\n  };\n  var getnextnode = function getnextnode(event, value) {\n    axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].all([axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(\"/frontend-api/memory-tree?page=\".concat(value))]).then(axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].spread(function (memory_object) {\n      if (memory_object.status != 204) {\n        var make_tree = treeify(memory_object.data.results);\n        setRootNode(make_tree[0]);\n        setDefaultExpandNode(make_tree[1]);\n        if (memory_object.data.count) {\n          setTotalNode(memory_object.data.count);\n        }\n      }\n    }))[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n  var refresh_tree = function refresh_tree() {\n    axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].all([axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(\"/frontend-api/get-user-instruction\")]).then(axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].spread(function (memory_object) {\n      if (memory_object.status != 204) {\n        var make_tree = treeify(memory_object.data.results);\n        setRootNode(make_tree[0]);\n        setDefaultExpandNode(make_tree[1]);\n        if (memory_object.data.count) {\n          setTotalNode(memory_object.data.count);\n        }\n      }\n    }))[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].all([axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get('/frontend-api/get-user-instruction')]).then(axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].spread(function (memory_object) {\n      if (memory_object.status != 204) {\n        console.log(memory_object.data.root_nodes);\n        var make_tree = treeify(memory_object.data.root_nodes);\n        setRootNode(make_tree[0]);\n        setDefaultExpandNode(make_tree[1]);\n        if (memory_object.data.count) {\n          setTotalNode(memory_object.data.count);\n        }\n      }\n    }))[\"catch\"](function (error) {\n      console.log(error);\n    });\n  }, []);\n  var RecursiveMemoryTree = function RecursiveMemoryTree(_ref) {\n    var data = _ref.data;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_x_tree_view_SimpleTreeView__WEBPACK_IMPORTED_MODULE_4__.SimpleTreeView, {\n      defaultExpandedItems: default_expand_node,\n      \"aria-label\": \"file system navigator\",\n      sx: {\n        maxHeight: 700,\n        flexGrow: 1,\n        maxWidth: 600,\n        overflowY: 'auto'\n      }\n    }, data.map(function (parent) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_x_tree_view_TreeItem__WEBPACK_IMPORTED_MODULE_5__.TreeItem, {\n        key: parent.id.toString(),\n        itemId: parent.id.toString(),\n        label: new Date(parent.created_at).toString()\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Paper__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n        pl: 1,\n        pr: 1,\n        pt: 1,\n        variant: \"body2\"\n      }, \" \", \"Prompt: \" + parent.prompt, \" \"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n        pl: 1,\n        pr: 1,\n        pb: 1,\n        variant: \"body2\"\n      }, \"Response: \" + parent.response, \" \")), parent.children && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(RecursiveMemoryTree, {\n        data: parent.children\n      }));\n    }));\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Container__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    maxWidth: false,\n    sx: {\n      minWidth: 1200\n    },\n    disableGutters: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"title\", null, \"Chat\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_component_navbar__WEBPACK_IMPORTED_MODULE_1__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Container__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    maxWidth: \"xl\",\n    sx: {\n      minWidth: 1200\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Box__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    m: 2\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Grid__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    container: true,\n    spacing: 2\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Grid__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    item: true,\n    xs: 4\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    mt: 1,\n    mb: 1,\n    variant: \"body1\"\n  }, \"Instruction Template\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n    \"aria-label\": \"fingerprint\",\n    color: \"info\",\n    size: \"small\",\n    onClick: refresh_tree\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_icons_material_Refresh__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n    fontSize: \"small\"\n  }))), root_node && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(RecursiveMemoryTree, {\n    data: root_node\n  }), !root_node && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    variant: \"body2\"\n  }, \"No template yet.\"), total_node && root_node && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Box__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    m: 1\n  }, \" \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Pagination__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    count: total_node,\n    showFirstButton: true,\n    showLastButton: true,\n    onChange: getnextnode\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Grid__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    item: true,\n    xs: 6\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_FormControl__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    fullWidth: true,\n    sx: {\n      m: 1\n    },\n    variant: \"standard\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    id: \"outlined-multiline-flexible\",\n    label: \"Parent Instruction\",\n    multiline: true,\n    rows: 4,\n    maxRows: 8\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_16__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_beautiful_dnd__WEBPACK_IMPORTED_MODULE_17__.DragDropContext, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_beautiful_dnd__WEBPACK_IMPORTED_MODULE_17__.Droppable, {\n    droppableId: \"childrens\"\n  }, function (provided) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", _extends({\n      className: \"childrens\"\n    }, provided.droppableProps, {\n      ref: provided.innerRef\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_beautiful_dnd__WEBPACK_IMPORTED_MODULE_17__.Draggable, {\n      key: \"0\",\n      draggableId: \"0\",\n      index: 0\n    }, function (provided) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_Box__WEBPACK_IMPORTED_MODULE_9__[\"default\"], _extends({\n        p: 1,\n        className: \"childrens\",\n        ref: provided.innerRef\n      }, provided.draggableProps, provided.dragHandleProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_FormControl__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n        fullWidth: true,\n        sx: {\n          m: 1\n        },\n        variant: \"standard\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n        label: \"Children Instruction 1\",\n        multiline: true,\n        rows: 4,\n        maxRows: 8\n      })));\n    }), provided.placeholder);\n  }))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_component_footer__WEBPACK_IMPORTED_MODULE_2__[\"default\"], null));\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserInstruction);\n\n//# sourceURL=webpack://inference_portal/./frontend/user_instruction.js?");

/***/ })

}]);