"use strict";(self.webpackChunkinference_portal=self.webpackChunkinference_portal||[]).push([[319],{83248:(e,t,a)=>{a.d(t,{a:()=>p,s:()=>i});var n=a(96540),l=a(69067),r=a(48139),o=a(60538),m=a(30995),u=a(25239),c=a(87458),s=a(40443),i=function(e){var t=e.inputsize,a=e.ChatPaper,i=e.ChatInput,p=e.chat_message,d=e.shownthinking,g=e.usermessage,f=e.setUserMessage,h=e.usermessageError,E=e.submitChat,A=e.messagesEndRef,v=e.handleEnter;return n.createElement(l.A,null,n.createElement(a,{id:"chat-log",variant:"outlined"},n.createElement(m.A,{spacing:1},p.map((function(e){return"Human"==e.role?n.createElement(o.A,null,n.createElement(l.A,{sx:{borderRight:5,borderColor:"primary.main",borderRadius:1},p:1,className:"message_log_container",style:{whiteSpace:"pre-line",textAlign:"right"}},"  ",n.createElement("span",null," (",e.role," - ",e.time,") ",e.message," "))):e.holder?n.createElement(o.A,null,n.createElement(l.A,{p:1,sx:{borderLeft:5,borderRadius:1},className:"message_log_container",style:{whiteSpace:"pre-line"},id:e.holderid},"  ",n.createElement("span",null," ",e.role," - ",e.time,": ",e.message))):"Server"==e.role?n.createElement(o.A,null,n.createElement(l.A,{p:1,sx:{borderLeft:5,borderRadius:1},className:"message_log_container",style:{whiteSpace:"pre-line"}},"  ",n.createElement("span",null," ",e.message," (",e.role," - ",e.time,") "))):void 0}))),n.createElement("div",{ref:A}," ")),d&&n.createElement(c.A,null),n.createElement(l.A,{mt:2},n.createElement(o.A,{component:"form",sx:{p:"2px 4px",display:"flex",minWidth:{inputsize:t}}},n.createElement(i,{id:"standard-multiline-flexible",multiline:!0,maxRows:6,value:g,error:h,onChange:function(e){return f(e.target.value)},onKeyUp:function(e){return v(e)},minRows:4,variant:"standard",InputProps:{endAdornment:n.createElement(u.A,{sx:{position:"absolute",bottom:30,right:10},position:"end"},n.createElement(r.A,{sx:{height:32},variant:"contained",size:"small",onClick:E,endIcon:n.createElement(s.A,null)},"Send")),startAdornment:n.createElement(u.A,{position:"start"},"   ")}}))))},p=function(e){var t=e.id,a=e.inputsize,i=e.ChatPaper,p=e.ChatInput,d=e.chat_message,g=e.shownthinking,f=e.usermessage,h=e.setUserMessage,E=e.usermessageError,A=e.submitChat,v=e.messagesEndRef,y=e.handleEnter,b=e.check_duplicate_message;return n.createElement(l.A,null,n.createElement(i,{id:t,variant:"outlined"},n.createElement(m.A,{spacing:1},d.map((function(e){return"Human"==e.role?n.createElement(o.A,null,n.createElement(l.A,{sx:{borderRight:5,borderColor:"primary.main",borderRadius:1},p:1,className:"message_log_container",style:{whiteSpace:"pre-line",textAlign:"right"}},"  ",n.createElement("span",null," (",e.role," - ",e.time,") ",e.message," "))):e.holder?n.createElement(o.A,null,n.createElement(l.A,{p:1,sx:{borderLeft:5,borderRadius:1},className:"message_log_container",style:{whiteSpace:"pre-line"},id:e.holderid},"  ",n.createElement("span",null," ",e.role," - ",e.time,": ",e.message))):"Server"==e.role?n.createElement(o.A,null,n.createElement(l.A,{p:1,sx:{borderLeft:5,borderRadius:1},className:"message_log_container",style:{whiteSpace:"pre-line"}},"  ",n.createElement("span",null," ",e.message," (",e.role," - ",e.time,") "))):void 0}))),n.createElement("div",{ref:v}," ")),g&&n.createElement(c.A,null),n.createElement(l.A,{mt:2},n.createElement(o.A,{component:"form",sx:{p:"2px 4px",display:"flex",minWidth:{inputsize:a}}},n.createElement(p,{id:"standard-multiline-flexible",multiline:!0,maxRows:6,value:f,error:E,onChange:function(e){h(e.target.value),b(e.target.value)},onKeyUp:function(e){return y(e)},minRows:4,variant:"standard",InputProps:{endAdornment:n.createElement(u.A,{sx:{position:"absolute",bottom:30,right:10},position:"end"},n.createElement(r.A,{sx:{height:32},variant:"contained",size:"small",onClick:A,endIcon:n.createElement(s.A,null)},"Send")),startAdornment:n.createElement(u.A,{position:"start"},"   ")}}))))}},92497:(e,t,a)=>{a.d(t,{I2:()=>A,Oj:()=>E,WJ:()=>v});var n=a(96540),l=a(50779),r=a(69307),o=a(29571),m=a(53215),u=a(73896),c=a(4147),s=a(29428),i=a(14073),p=a(30995),d=a(68864),g=a(98475),f=a(1405),h=a(71543),E=function(e){var t=e.choosen_model,a=e.setChoosenModel,m=e.frequencypenalty,s=e.setFrequencyPenalty,d=e.presencepenalty,f=e.setPresencePenalty,E=e.agent_objects,A=e.top_p,v=e.setTopp,y=e.temperature,b=e.setTemperature,_=e.max_tokens,C=e.setMaxToken;return n.createElement(p.A,{direction:"column",spacing:1},n.createElement(l.A,null,n.createElement(o.A,{id:"model-label"},"Models"),n.createElement(c.A,{labelId:"model-label",id:"model-select",onChange:function(e){return a(e.target.value)},value:t,label:"Models",size:"small"},E.map((function(e){return n.createElement(u.A,{key:e.name,value:e.name},e.name)})))),n.createElement(h.A,null),n.createElement(r.A,null,"Parameters"),n.createElement(i.A,{gutterBottom:!0},"Top_p: ",A),n.createElement(g.Ay,{step:.01,min:0,max:1,valueLabelDisplay:"off",onChange:function(e){return v(e.target.value)},value:A}),n.createElement(i.A,{gutterBottom:!0},"Max_tokens: ",_),n.createElement(g.Ay,{defaultValue:512,step:1,min:1,max:4090,onChange:function(e){return C(e.target.value)},value:_,valueLabelDisplay:"off"}),n.createElement(i.A,{gutterBottom:!0},"Temperature: ",y),n.createElement(g.Ay,{defaultValue:.73,step:.01,min:0,max:1,onChange:function(e){return b(e.target.value)},value:y,valueLabelDisplay:"off"}),n.createElement(i.A,{gutterBottom:!0},"Presence penalty: ",d),n.createElement(g.Ay,{"aria-label":"Small steps",defaultValue:0,step:.01,min:-2,max:2,onChange:function(e){return f(e.target.value)},value:d,valueLabelDisplay:"off"}),n.createElement(i.A,{gutterBottom:!0},"Frequency penalty: ",m),n.createElement(g.Ay,{"aria-label":"Small steps",defaultValue:0,step:.01,min:-2,max:2,onChange:function(e){return s(e.target.value)},value:m,valueLabelDisplay:"off"}),"   ")},A=function(e){var t=e.setUseMemory,a=e.choosen_model,E=e.setChoosenModel,A=e.mode,v=e.setMode,y=e.top_k,b=e.setTopk,_=e.top_p,C=e.setTopp,x=e.temperature,k=e.setTemperature,S=e.bestof,B=e.setBestof,M=e.lengthpenalty,L=e.setLengthPenalty,w=e.frequencypenalty,P=e.setFrequencyPenalty,D=e.presencepenalty,T=e.setPresencePenalty,V=e.beam,I=e.setBeam,z=e.max_tokens,R=e.setMaxToken,O=e.model_objects,j=e.agent_objects,N=e.earlystopping,q=e.setEarlyStopping;return n.createElement(l.A,{defaultValue:""},n.createElement(p.A,{direction:"column",spacing:1},n.createElement(o.A,{id:"demo-simple-select-label"},"Models"),n.createElement(c.A,{labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:function(e){return E(e.target.value)},value:a,label:"Models"},O.map((function(e){return n.createElement(u.A,{key:e.name,value:e.name},e.name)})),j.map((function(e){return n.createElement(u.A,{key:e.name,value:e.name},e.name)}))),n.createElement(h.A,null),n.createElement(r.A,{id:"demo-radio-buttons-group-label"},"Parameters"),n.createElement(d.A,{control:n.createElement(f.A,{defaultChecked:!0,onChange:function(e){return t(e.target.checked)}}),label:"Use Memory"}),n.createElement(s.A,{defaultValue:"chat",name:"radio-buttons-group",onChange:function(e){return v(e.target.value)},value:A},n.createElement(d.A,{key:"chat",value:"chat",control:n.createElement(m.A,{size:"small"}),label:"Chat Bot Mode"}),n.createElement(d.A,{key:"generate",value:"generate",control:n.createElement(m.A,{size:"small"}),label:"Sentence Completion"}),n.createElement(h.A,null)),n.createElement(i.A,{gutterBottom:!0},"Top_p: ",_),n.createElement(g.Ay,{step:.01,min:0,max:1,valueLabelDisplay:"off",onChange:function(e){return C(e.target.value)},value:_}),n.createElement(i.A,{gutterBottom:!0},"Top_k: ",y),n.createElement(g.Ay,{defaultValue:-1,step:1,min:-1,max:100,valueLabelDisplay:"off",onChange:function(e){return b(e.target.value)},value:y}),n.createElement(i.A,{gutterBottom:!0},"Max_tokens: ",z),n.createElement(g.Ay,{defaultValue:512,step:1,min:1,max:4090,onChange:function(e){return R(e.target.value)},value:z,valueLabelDisplay:"off"}),n.createElement(i.A,{gutterBottom:!0},"Temperature: ",x),n.createElement(g.Ay,{defaultValue:.73,step:.01,min:0,max:1,onChange:function(e){return k(e.target.value)},value:x,valueLabelDisplay:"off"}),n.createElement(i.A,{gutterBottom:!0},"Presence penalty: ",D),n.createElement(g.Ay,{"aria-label":"Small steps",defaultValue:0,step:.01,min:-2,max:2,onChange:function(e){return T(e.target.value)},value:D,valueLabelDisplay:"off"}),n.createElement(i.A,{gutterBottom:!0},"Frequency penalty: ",w),n.createElement(g.Ay,{"aria-label":"Small steps",defaultValue:0,step:.01,min:-2,max:2,onChange:function(e){return P(e.target.value)},value:w,valueLabelDisplay:"off"}),n.createElement(h.A,null),n.createElement(d.A,{control:n.createElement(f.A,{onChange:function(e){return I(e.target.checked)},value:V}),label:"Beam Search: "}),n.createElement(d.A,{control:n.createElement(f.A,{onChange:function(e){return q(e.target.checked)},value:N}),label:"Early Stopping: "}),n.createElement(i.A,{gutterBottom:!0},"Best_of: ",S),n.createElement(g.Ay,{onChange:function(e){return B(e.target.value)},value:S,defaultValue:2,step:1,min:1,max:5,valueLabelDisplay:"off"}),n.createElement(i.A,{gutterBottom:!0},"Length penalty: ",M),n.createElement(g.Ay,{onChange:function(e){return L(e.target.value)},value:M,defaultValue:0,step:.01,min:-2,max:2,valueLabelDisplay:"off"})))},v=function(e){var t=e.template_list,a=e.setUseMemory,E=e.setDuplicateMessage,A=e.choosen_chat_model,v=e.choosen_template,y=e.setChoosenTemplate,b=e.setChoosenChatModel,_=e.choosen_agent_model,C=e.setChoosenAgentModel,x=e.mode,k=e.setMode,S=e.top_k,B=e.setTopk,M=e.top_p,L=e.setTopp,w=e.temperature,P=e.setTemperature,D=e.bestof,T=e.setBestof,V=e.lengthpenalty,I=e.setLengthPenalty,z=e.frequencypenalty,R=e.setFrequencyPenalty,O=e.presencepenalty,j=e.setPresencePenalty,N=e.beam,q=e.setBeam,U=e.max_tokens,W=e.setMaxToken,F=e.model_objects,H=e.agent_objects,J=e.earlystopping,K=e.setEarlyStopping;return n.createElement(p.A,{direction:"column",spacing:1},n.createElement(l.A,null,n.createElement(o.A,{id:"model-label"},"Chat Models"),n.createElement(c.A,{labelId:"model-label",id:"model-select",onChange:function(e){return b(e.target.value)},value:A,label:"Models",size:"small"},H.map((function(e){return n.createElement(u.A,{key:e.name,value:e.name},e.name)})),F.map((function(e){return n.createElement(u.A,{key:e.name,value:e.name},e.name)})))),n.createElement(l.A,null,n.createElement(o.A,{id:"model-label"},"Agent Models"),n.createElement(c.A,{labelId:"model-label",id:"model-select",onChange:function(e){return C(e.target.value)},value:_,label:"Models",size:"small"},H.map((function(e){return n.createElement(u.A,{key:e.name,value:e.name},e.name)})))),n.createElement(l.A,null,n.createElement(o.A,{id:"agent-label"},"Agents"),n.createElement(c.A,{labelId:"agent-label",id:"agent-select",onChange:function(e){y(e.target.value),swap_template(e.target.value)},value:v,label:"Agents",size:"small"},t.map((function(e){return n.createElement(u.A,{key:e.name,value:e.name},e.name)})))),n.createElement(h.A,null),n.createElement(r.A,{id:"demo-radio-buttons-group-label"},"Parameters"),n.createElement(d.A,{control:n.createElement(f.A,{defaultChecked:!0,onChange:function(e){return E(e.target.checked)}}),label:"Duplicate Message"}),n.createElement(d.A,{control:n.createElement(f.A,{defaultChecked:!0,onChange:function(e){return a(e.target.checked)}}),label:"Use Memory"}),n.createElement(s.A,{defaultValue:"chat",name:"radio-buttons-group",onChange:function(e){return k(e.target.value)},value:x},n.createElement(d.A,{key:"chat",value:"chat",control:n.createElement(m.A,{size:"small"}),label:"Chat Bot Mode"}),n.createElement(d.A,{key:"generate",value:"generate",control:n.createElement(m.A,{size:"small"}),label:"Sentence Completion"}),n.createElement(h.A,null)),n.createElement(i.A,{gutterBottom:!0},"Top_p: ",M),n.createElement(g.Ay,{step:.01,min:0,max:1,valueLabelDisplay:"off",onChange:function(e){return L(e.target.value)},value:M}),n.createElement(i.A,{gutterBottom:!0},"Top_k: ",S),n.createElement(g.Ay,{defaultValue:-1,step:1,min:-1,max:100,valueLabelDisplay:"off",onChange:function(e){return B(e.target.value)},value:S}),n.createElement(i.A,{gutterBottom:!0},"Max_tokens: ",U),n.createElement(g.Ay,{defaultValue:512,step:1,min:1,max:4090,onChange:function(e){return W(e.target.value)},value:U,valueLabelDisplay:"off"}),n.createElement(i.A,{gutterBottom:!0},"Temperature: ",w),n.createElement(g.Ay,{defaultValue:.73,step:.01,min:0,max:1,onChange:function(e){return P(e.target.value)},value:w,valueLabelDisplay:"off"}),n.createElement(i.A,{gutterBottom:!0},"Presence penalty: ",O),n.createElement(g.Ay,{"aria-label":"Small steps",defaultValue:0,step:.01,min:-2,max:2,onChange:function(e){return j(e.target.value)},value:O,valueLabelDisplay:"off"}),n.createElement(i.A,{gutterBottom:!0},"Frequency penalty: ",z),n.createElement(g.Ay,{"aria-label":"Small steps",defaultValue:0,step:.01,min:-2,max:2,onChange:function(e){return R(e.target.value)},value:z,valueLabelDisplay:"off"}),n.createElement(h.A,null),n.createElement(d.A,{control:n.createElement(f.A,{onChange:function(e){return q(e.target.checked)},value:N}),label:"Beam Search: "}),n.createElement(d.A,{control:n.createElement(f.A,{onChange:function(e){return K(e.target.checked)},value:J}),label:"Early Stopping: "}),n.createElement(i.A,{gutterBottom:!0},"Best_of: ",D),n.createElement(g.Ay,{onChange:function(e){return T(e.target.value)},value:D,defaultValue:2,step:1,min:1,max:5,valueLabelDisplay:"off"}),n.createElement(i.A,{gutterBottom:!0},"Length penalty: ",V),n.createElement(g.Ay,{onChange:function(e){return I(e.target.value)},value:V,defaultValue:0,step:.01,min:-2,max:2,valueLabelDisplay:"off"}))}},6276:(e,t,a)=>{function n(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function r(e,t,a,l){e.current.onopen=function(){console.log("WebSocket  Connected")},e.current.onclose=function(){console.log("WebSocket  Disconnected")},e.current.onmessage=function(e){var r=JSON.parse(e.data);if(r){"Human"==r.role||"Server"==r.role||r.holder?(r.holder&&(a(!0),r.message=""),t((function(e){return[].concat(n(e),[{holder:r.holder,holderid:r.holderid,role:r.role,time:r.time,credit:r.credit,message:r.message}])}))):(a(!1),t((function(e){return[].concat(n(e.slice(0,-1)),[{holder:e[e.length-1].holder,holderid:e[e.length-1].holderid,role:e[e.length-1].role,time:e[e.length-1].time,credit:e[e.length-1].credit,message:e[e.length-1].message+=r.message}])})));var o=l.getElementById("chat-log");o.scrollTop=o.scrollHeight}}}function o(e,t,a,l,r,o,m,u,c,s){e.current.onopen=function(){console.log("WebSocket  Connected")},e.current.onclose=function(){console.log("WebSocket  Disconnected")},e.current.onmessage=function(e){var i=JSON.parse(e.data);if(i){if(i.hasOwnProperty("swap_template")){r(i.swap_instruction),o(i.default_child_instruct);var p=[];for(var d in i.child_template_name_list)p.push({name:i.child_template_name_list[d]});m(p),u&&u(JSON.parse(i.swap_template)),s&&s.current.render(JSON.parse(i.swap_template)),i.message=""}else i.hasOwnProperty("child_instruct")?(o(i.child_instruct),i.message=""):i.hasOwnProperty("paragraph")&&c&&(c(i.paragraph),i.message="");if("Human"==i.role||"Server"==i.role||i.holder)i.holder&&(a(!0),i.message=""),t((function(e){return[].concat(n(e),[{holder:i.holder,holderid:i.holderid,role:i.role,time:i.time,credit:i.credit,message:i.message}])}));else if(i.hasOwnProperty("agent_action")){if("STOP"==i.agent_action){var g={type:"paragraph",data:{text:i.full_result.replace(/\n/g,"<br>")}};s.current.blocks.insert(g.type,g.data,null,i.result_id)}}else a(!1),t((function(e){return[].concat(n(e.slice(0,-1)),[{holder:e[e.length-1].holder,holderid:e[e.length-1].holderid,role:e[e.length-1].role,time:e[e.length-1].time,credit:e[e.length-1].credit,message:e[e.length-1].message+=i.message}])}));if(!(f=l.getElementById("chat-log")))var f=l.getElementById("chat-log-agent");f.scrollTop=f.scrollHeight}}}a.d(t,{j:()=>o,u:()=>r})}}]);