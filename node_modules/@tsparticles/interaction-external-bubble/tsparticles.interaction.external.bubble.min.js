/*! For license information please see tsparticles.interaction.external.bubble.min.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@tsparticles/engine"));else if("function"==typeof define&&define.amd)define(["@tsparticles/engine"],t);else{var i="object"==typeof exports?t(require("@tsparticles/engine")):t(e.window);for(var o in i)("object"==typeof exports?exports:e)[o]=i[o]}}(this,(e=>(()=>{var t={303:t=>{t.exports=e}},i={};function o(e){var n=i[e];if(void 0!==n)return n.exports;var b=i[e]={exports:{}};return t[e](b,b.exports,o),b.exports}o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{o.r(n),o.d(n,{Bubble:()=>l,BubbleBase:()=>i,BubbleDiv:()=>b,loadExternalBubbleInteraction:()=>c});var e,t=o(303);class i{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.mix&&(this.mix=e.mix),void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.color){const i=(0,t.isArray)(this.color)?void 0:this.color;this.color=(0,t.executeOnSingleOrMultiple)(e.color,(e=>t.OptionsColor.create(i,e)))}void 0!==e.size&&(this.size=e.size)}}}class b extends i{constructor(){super(),this.selectors=[]}load(e){super.load(e),e&&void 0!==e.selectors&&(this.selectors=e.selectors)}}class l extends i{load(e){super.load(e),e&&(this.divs=(0,t.executeOnSingleOrMultiple)(e.divs,(e=>{const t=new b;return t.load(e),t})))}}function s(e,i,o,n){if(i>=o){const b=e+(i-o)*n;return(0,t.clamp)(b,e,i)}if(i<o){const b=e-(o-i)*n;return(0,t.clamp)(b,i,e)}}!function(e){e.color="color",e.opacity="opacity",e.size="size"}(e||(e={}));const r="bubble";class a extends t.ExternalInteractorBase{constructor(i){super(i),this._clickBubble=()=>{const i=this.container,o=i.actualOptions,n=i.interactivity.mouse.clickPosition,b=o.interactivity.modes.bubble;if(!b||!n)return;i.bubble||(i.bubble={});const l=i.retina.bubbleModeDistance;if(!l||l<0)return;const s=i.particles.quadTree.queryCircle(n,l,(e=>this.isEnabled(e))),{bubble:r}=i;for(const o of s){if(!r.clicking)continue;o.bubble.inRange=!r.durationEnd;const s=o.getPosition(),a=(0,t.getDistance)(s,n),c=((new Date).getTime()-(i.interactivity.mouse.clickTime??0))/t.millisecondsToSeconds;c>b.duration&&(r.durationEnd=!0),c>2*b.duration&&(r.clicking=!1,r.durationEnd=!1);const u={bubbleObj:{optValue:i.retina.bubbleModeSize,value:o.bubble.radius},particlesObj:{optValue:(0,t.getRangeMax)(o.options.size.value)*i.retina.pixelRatio,value:o.size.value},type:e.size};this._process(o,a,c,u);const d={bubbleObj:{optValue:b.opacity,value:o.bubble.opacity},particlesObj:{optValue:(0,t.getRangeMax)(o.options.opacity.value),value:o.opacity?.value??1},type:e.opacity};this._process(o,a,c,d),!r.durationEnd&&a<=l?this._hoverBubbleColor(o,a):delete o.bubble.color}},this._hoverBubble=()=>{const e=this.container,i=e.interactivity.mouse.position,o=e.retina.bubbleModeDistance;if(!o||o<0||!i)return;const n=e.particles.quadTree.queryCircle(i,o,(e=>this.isEnabled(e)));for(const b of n){b.bubble.inRange=!0;const n=b.getPosition(),l=(0,t.getDistance)(n,i),s=1-l/o;l<=o?s>=0&&e.interactivity.status===t.mouseMoveEvent&&(this._hoverBubbleSize(b,s),this._hoverBubbleOpacity(b,s),this._hoverBubbleColor(b,s)):this.reset(b),e.interactivity.status===t.mouseLeaveEvent&&this.reset(b)}},this._hoverBubbleColor=(e,i,o)=>{const n=this.container.actualOptions,b=o??n.interactivity.modes.bubble;if(b){if(!e.bubble.finalColor){const i=b.color;if(!i)return;const o=(0,t.itemFromSingleOrMultiple)(i);e.bubble.finalColor=(0,t.rangeColorToHsl)(o)}if(e.bubble.finalColor)if(b.mix){e.bubble.color=void 0;const o=e.getFillColor();e.bubble.color=o?(0,t.rgbToHsl)((0,t.colorMix)(o,e.bubble.finalColor,1-i,i)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}},this._hoverBubbleOpacity=(e,i,o)=>{const n=this.container.actualOptions,b=o?.opacity??n.interactivity.modes.bubble?.opacity;if(!b)return;const l=e.options.opacity.value,r=s(e.opacity?.value??1,b,(0,t.getRangeMax)(l),i);void 0!==r&&(e.bubble.opacity=r)},this._hoverBubbleSize=(e,i,o)=>{const n=this.container,b=o?.size?o.size*n.retina.pixelRatio:n.retina.bubbleModeSize;if(void 0===b)return;const l=(0,t.getRangeMax)(e.options.size.value)*n.retina.pixelRatio,r=s(e.size.value,b,l,i);void 0!==r&&(e.bubble.radius=r)},this._process=(t,i,o,n)=>{const b=this.container,l=n.bubbleObj.optValue,s=b.actualOptions.interactivity.modes.bubble;if(!s||void 0===l)return;const r=s.duration,a=b.retina.bubbleModeDistance,c=n.particlesObj.optValue,u=n.bubbleObj.value,d=n.particlesObj.value??0,p=n.type;if(a&&!(a<0)&&l!==c)if(b.bubble||(b.bubble={}),b.bubble.durationEnd)u&&(p===e.size&&delete t.bubble.radius,p===e.opacity&&delete t.bubble.opacity);else if(i<=a){if((u??d)!==l){const i=d-o*(d-l)/r;p===e.size&&(t.bubble.radius=i),p===e.opacity&&(t.bubble.opacity=i)}}else p===e.size&&delete t.bubble.radius,p===e.opacity&&delete t.bubble.opacity},this._singleSelectorHover=(e,i,o)=>{const n=this.container,b=document.querySelectorAll(i),l=n.actualOptions.interactivity.modes.bubble;l&&b.length&&b.forEach((i=>{const b=i,s=n.retina.pixelRatio,r={x:(b.offsetLeft+.5*b.offsetWidth)*s,y:(b.offsetTop+.5*b.offsetHeight)*s},a=.5*b.offsetWidth*s,c=o.type===t.DivType.circle?new t.Circle(r.x,r.y,a):new t.Rectangle(b.offsetLeft*s,b.offsetTop*s,b.offsetWidth*s,b.offsetHeight*s),u=n.particles.quadTree.query(c,(e=>this.isEnabled(e)));for(const i of u){if(!c.contains(i.getPosition()))continue;i.bubble.inRange=!0;const o=l.divs,n=(0,t.divMode)(o,b);i.bubble.div&&i.bubble.div===b||(this.clear(i,e,!0),i.bubble.div=b),this._hoverBubbleSize(i,1,n),this._hoverBubbleOpacity(i,1,n),this._hoverBubbleColor(i,1,n)}}))},i.bubble||(i.bubble={}),this.handleClickMode=e=>{e===r&&(i.bubble||(i.bubble={}),i.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,void 0!==t.size&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const i=this.container.actualOptions.interactivity.events,o=i.onHover,n=i.onClick,b=o.enable,l=o.mode,s=n.enable,a=n.mode,c=i.onDiv;b&&(0,t.isInArray)(r,l)?this._hoverBubble():s&&(0,t.isInArray)(r,a)?this._clickBubble():(0,t.divModeExecute)(r,c,((t,i)=>this._singleSelectorHover(e,t,i)))}isEnabled(e){const i=this.container,o=i.actualOptions,n=i.interactivity.mouse,b=(e?.interactivity??o.interactivity).events,{onClick:l,onDiv:s,onHover:a}=b,c=(0,t.isDivModeEnabled)(r,s);return!!(c||a.enable&&n.position||l.enable&&n.clickPosition)&&((0,t.isInArray)(r,a.mode)||(0,t.isInArray)(r,l.mode)||c)}loadModeOptions(e,...t){e.bubble||(e.bubble=new l);for(const i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}async function c(e,t=!0){await e.addInteractor("externalBubble",(e=>Promise.resolve(new a(e))),t)}})(),n})()));