<!DOCTYPE HTML>
<html>
<head>
    <title>Chat Mode</title>
    <meta name="description" content="website description" />
    <meta name="keywords" content="website keywords, website keywords" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" href="/static/css/style.css" title="style" />
    <link rel="shortcut icon" type="image/png" href="static/image/favicon.ico"/>
</head>
<body>
    <div id="main">
      <div id="header">
        <div id="logo">
          <div id="logo_text">
            <!-- class="logo_colour", allows you to change the colour of the text -->
            <h1><a href="index">Inference <span class="logo_colour"></span></a></h1>
          </div>
        </div>
        <div id="menubar">
          <ul id="menu">
            <div  class="dropdown">
              <a  href="/"> 
              <button class="dropbtn">Introduction</button>
              </a>
              <div class="dropdown-content">
                <a href="/">Introduction</a>
                <a href="/model_infor">Model</a>
                <a href="/manual">User Manual</a>
                <a href="/contact">Contact Us</a>
              </div>
            </div> 
  
            <div class="dropdown">
              <a  href="/"> 
              <button class="dropbtn-selected">Inference Modes</button>
              </a>
              <div class="dropdown-content">
                <a href="/prompt">Prompt and API</a>
                <a href="/chat">Chat Bot and Agent</a>
              </div>
            </div> 
            <a  href="/buy"> 
              <button class="dropbtn">Get Key</button>
            </a>
            <a  href="/promptresponse"> 
              <button class="dropbtn">Response Log</button>
            </a>
          </ul>
        </div>
      </div>

      <div id="site_content">
        <h2>Bring me to:</h2>
        <input type="checkbox" class= "checkbox_mode" name="mode"  value= "chat" checked onclick="onlyOne(this)"> Chat Bot Mode<br>
        <input type="checkbox" class= "checkbox_mode" name="mode"  value= "engineering" onclick="onlyOne(this)"> Agent Mode<br><br>
        <h2>Enter your key </h2>
        <label for="key">Key: </label>
        <input id="key" type="text" >
        <input id="room-name-submit" type="button" value="Enter">
      </div>
    <script>

        function onlyOne(checkbox, type_) {
   
                var checkboxes = document.getElementsByName('mode')
                checkboxes.forEach((item) => {
                    if (item !== checkbox) item.checked = false
                }) 
              }
        document.querySelector('#key').focus();


        document.querySelector('#room-name-submit').onclick = function(e) {
            var key = document.querySelector('#key').value;
            var destination = null; 
            var inputElements = document.getElementsByClassName('checkbox_mode');
            for(var i=0; inputElements[i]; ++i){
                  if(inputElements[i].checked){
                      destination = inputElements[i].value;
                      break;
                  }
            }

            
            if (destination == "chat") {
              window.location.pathname = '/chat/' + key + "/";
            }
            else if (destination == "engineering") {
              window.location.pathname = '/engineer/' + key + "/";
            }
        };
    </script>
</body>
</html>